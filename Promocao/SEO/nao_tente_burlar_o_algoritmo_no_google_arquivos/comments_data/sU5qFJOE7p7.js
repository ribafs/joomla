/*1352507549,173213213*/

if (self.CavalryLogger) { CavalryLogger.start_js(["zrqoT"]); }

__d("SimpleDrag",["event-extensions","ArbiterMixin","Class","UserAgent","Vector","copyProperties","emptyFunction"],function(a,b,c,d,e,f){b('event-extensions');var g=b('ArbiterMixin'),h=b('Class'),i=b('UserAgent'),j=b('Vector'),k=b('copyProperties'),l=b('emptyFunction');function m(n){this.minDragDistance=0;Event.listen(n,'mousedown',this._start.bind(this));}k(m.prototype,g,{setMinDragDistance:function(n){this.minDragDistance=n;},_start:function(event){var n=false,o=true,p=null;if(this.inform('mousedown',event))o=false;if(this.minDragDistance){p=j.getEventPosition(event);}else{n=true;if(this.inform('start',event))o=false;}var q=i.ie()<9?document.documentElement:window,r=Event.listen(q,{selectstart:o?Event.prevent:l,mousemove:function(event){if(!n){var s=j.getEventPosition(event);if(p.distanceTo(s)<this.minDragDistance)return;n=true;this.inform('start',event);}this.inform('update',event);}.bind(this),mouseup:function(event){for(var s in r)r[s].remove();if(n){this.inform('end',event);}else this.inform('click',event);}.bind(this)});o&&event.prevent();}});e.exports=m;});
__d("ARIA",["DOM","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('emptyFunction'),i=b('ge'),j,k,l=function(){j=i('ariaAssertiveAlert');if(!j){j=g.create('div',{id:'ariaAssertiveAlert',className:'accessible_elem','aria-live':'assertive'});g.appendContent(document.body,j);}k=i('ariaPoliteAlert');if(!k){k=j.cloneNode(false);k.setAttribute('id','ariaPoliteAlert');k.setAttribute('aria-live','polite');g.appendContent(document.body,k);}l=h;};function m(o,p){l();var q=p?j:k;g.setContent(q,o);}var n={owns:function(o,p){o.setAttribute('aria-owns',g.getID(p));},setPopup:function(o,p){var q=g.getID(p);o.setAttribute('aria-owns',q);o.setAttribute('aria-controls',q);o.setAttribute('aria-haspopup','true');if(o.tabIndex==-1)o.tabIndex=0;},announce:function(o){m(o,true);},notify:function(o){m(o);}};e.exports=n;});
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","Form","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('AsyncRequest'),i=b('AsyncResponse'),j=b('Form'),k=b('UserAgent'),l=b('copyProperties');function m(o){this.setURI(o);}m.isSupported=function(){if(k.safari()&&!k.chrome()&&k.windows())return false;return ('FileList' in window)&&('FormData' in window);};l(m.prototype,g,{_limit:10,setAllowCrossOrigin:function(o){this._allowCrossOrigin=!!o;return this;},setData:function(o){this._data=o;return this;},setLimit:function(o){this._limit=o;return this;},setRelativeTo:function(o){this._relativeTo=o;return this;},setStatusElement:function(o){this._statusElement=o;return this;},setURI:function(o){this._uri=o;return this;},_createFileUpload:function(o,p,q){return new n(o,p,q);},_parseFiles:function(o){var p={};for(var q in o){var r=o[q];if(Array.isArray(r)){p[q]=r;}else{p[q]=[];if(r instanceof window.FileList){for(var s=0;s<r.length;s++)p[q].push(r.item(s));}else if(r instanceof window.File||r instanceof window.Blob)p[q].push(r);}}return p;},_processQueue:function(){while(this._pending.length<this._limit){if(!this._waiting.length)break;var o=this._waiting.shift();this._processUpload(o);this._pending.push(o);}},_processUpload:function(o){var p=j.createFormData(o.getData()||this._data);if(o.getFile())p.append(o.getName(),o.getFile());var q=new h().setAllowCrossOrigin(this._allowCrossOrigin).setURI(this._uri).setRawData(p).setRelativeTo(this._relativeTo).setStatusElement(this._statusElement).setHandler(this._success.bind(this,o)).setErrorHandler(this._failure.bind(this,o)).setUploadProgressHandler(this._progress.bind(this,o)).setInitialHandler(this._initial.bind(this,o));q.send();o.setAsyncRequest(q);this.inform('start',o);},_initial:function(o){this.inform('initial',o);},_success:function(o,p){this.inform('success',o.handleSuccess(p));this._complete(o);},_failure:function(o,p){if(this.inform('failure',o.handleFailure(p))!==false)i.defaultErrorHandler(p);this._complete(o);},_progress:function(o,event){this.inform('progress',o.handleProgress(event));},_complete:function(o){this._pending.remove(o);this._processQueue();if(!this._pending.length)this._inFlight=false;}});var n=function(o,p,q){this._name=o;this._file=p;this._data=q;this._success=null;this._response=null;this._progressEvent=null;this._request=null;};l(n.prototype,{getName:function(){return this._name;},getFile:function(){return this._file;},getData:function(){return this._data;},isComplete:function(){return this._success!==null;},isSuccess:function(){return this._success===true;},getResponse:function(){return this._response;},getProgressEvent:function(){return this._progressEvent;},setAsyncRequest:function(o){this._request=o;return this;},abort:function(){this._request&&this._request.abort();this._request=null;},handleSuccess:function(o){this._success=true;this._response=o;this._progressEvent=null;return this;},handleFailure:function(o){this._success=false;this._response=o;this._progressEvent=null;return this;},handleProgress:function(event){this._progressEvent=event;return this;}});e.exports=m;});
__d("AsyncUploadRequest",["AsyncUploadBase","Class","copyProperties"],function(a,b,c,d,e,f){var g=b('AsyncUploadBase'),h=b('Class'),i=b('copyProperties');function j(k){this.parent.construct(this,k);}j.isSupported=function(){return g.isSupported();};h.extend(j,g);i(j.prototype,{setFiles:function(k){this._files=this._parseFiles(k);return this;},send:function(){if(this._inFlight)return;this._inFlight=true;this._uploads=[];for(var k in this._files)this._files[k].forEach(function(l){this._uploads.push(this._createFileUpload(k,l));}.bind(this));if(this._uploads.length){this._waiting=this._uploads.slice(0);this._pending=[];this._processQueue();}else this._processUpload(this._createFileUpload(null,null));},_complete:function(k){this.parent._complete(k);if(!this._pending.length)this.inform('complete',this._uploads);}});e.exports=j;});
__d("BootloadedReact",["Bootloader"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=function(j){g.loadModules(['React'],j);},i={isValidComponent:function(j){return (j&&typeof j.genMarkupIntoContainer==='function'&&typeof j.updateAllProps==='function');},initializeTouchEvents:function(j,k){h(function(l){l.initializeTouchEvents(j);k&&k();});},createComponent:function(j,k){h(function(l){var m=l.createComponent(j);k&&k(m);});},renderComponent:function(j,k,l){h(function(m){var n=m.renderComponent(j,k);l&&l(n);});},renderOrUpdateComponent:function(j,k,l){h(function(m){var n=m.renderOrUpdateComponent(j,k);l&&l(n);});},destroyAndReleaseReactRootNode:function(j,k){h(function(l){l.destroyAndReleaseReactRootNode(j);k&&k();});}};e.exports=i;});
__d("KeyEventController",["event-extensions","DOM","Run","copyProperties","isEmpty"],function(a,b,c,d,e,f){b('event-extensions');var g=b('DOM'),h=b('Run'),i=b('event-extensions').$E,j=b('copyProperties'),k=b('isEmpty');function l(){this.handlers={};document.onkeyup=this.onkeyevent.bind(this,'onkeyup');document.onkeydown=this.onkeyevent.bind(this,'onkeydown');document.onkeypress=this.onkeyevent.bind(this,'onkeypress');}j(l,{instance:null,getInstance:function(){return l.instance||(l.instance=new l());},defaultFilter:function(event,m){event=i(event);return l.filterEventTypes(event,m)&&l.filterEventTargets(event,m)&&l.filterEventModifiers(event,m);},filterEventTypes:function(event,m){if(m==='onkeydown')return true;return false;},filterEventTargets:function(event,m){var n=event.getTarget(),o=n.contentEditable==='true';return (!(o||g.isNodeOfType(n,l._interactiveElements))||n.type in l._uninterestingTypes||(event.keyCode in l._controlKeys&&((g.isNodeOfType(n,['input','textarea'])&&n.value.length===0)||(o&&n.textContent.length===0))));},filterEventModifiers:function(event,m){if(event.ctrlKey||event.altKey||event.metaKey||event.repeat)return false;return true;},registerKey:function(m,n,o,p){if(o===undefined)o=l.defaultFilter;var q=l.getInstance(),r=q.mapKey(m);if(k(q.handlers))h.onLeave(q.resetHandlers.bind(q));var s={};for(var t=0;t<r.length;t++){m=r[t];if(!q.handlers[m]||p)q.handlers[m]=[];var u={callback:n,filter:o};s[m]=u;q.handlers[m].push(u);}return {remove:function(){for(var v in s){if(q.handlers[v]&&q.handlers[v].length){var w=q.handlers[v].indexOf(s[v]);w>=0&&q.handlers[v].splice(w,1);}delete s[v];}}};},keyCodeMap:{BACKSPACE:[8],TAB:[9],RETURN:[13],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],DELETE:[46],COMMA:[188],PERIOD:[190],'`':[192],'[':[219],']':[221]},_interactiveElements:['input','select','textarea','object','embed'],_uninterestingTypes:{checkbox:1,radio:1,submit:1},_controlKeys:{8:1,9:1,13:1,27:1,37:1,63234:1,38:1,63232:1,39:1,63235:1,40:1,63233:1,46:1}});j(l.prototype,{mapKey:function(m){if(m>=0&&m<=9){if(typeof(m)!='number')m=m.charCodeAt(0)-48;return [48+m,96+m];}var n=l.keyCodeMap[m.toUpperCase()];if(n)return n;return [m.toUpperCase().charCodeAt(0)];},onkeyevent:function(m,n){n=i(n);var o=this.handlers[n.keyCode]||this.handlers[n.which],p,q,r;if(o)for(var s=0;s<o.length;s++){p=o[s].callback;q=o[s].filter;try{if(!q||q(n,m)){r=p(n,m);if(r===false)return Event.kill(n);}}catch(t){emptyFunction('Uncaught exception in key handler: %x',t);}}return true;},resetHandlers:function(){this.handlers={};}});e.exports=l;});
__d("Layer",["event-extensions","function-extensions","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","HTML","KeyEventController","Parent","Style","copyProperties","ge"],function(a,b,c,d,e,f){b('event-extensions');b('function-extensions');var g=b('ArbiterMixin'),h=b('BehaviorsMixin'),i=b('BootloadedReact'),j=b('ContextualThing'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('HTML'),o=b('KeyEventController'),p=b('Parent'),q=b('Style'),r=b('copyProperties'),s=b('ge'),t=[];function u(v,w){this._config=v||{};if(w){this._configure(this._config,w);var x=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(x));}}r(u,g);r(u,{init:function(v,w){v.init(w);},initAndShow:function(v,w){v.init(w).show();},show:function(v){v.show();},getTopmostLayer:function(){return t[t.length-1];}});r(u.prototype,g,h,{_initialized:false,_root:null,_shown:false,_hiding:false,_causalElement:null,_reactContainer:null,init:function(v){this._configure(this._config,v);var w=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(w));this._initialized=true;return this;},_configure:function(v,w){if(w){var x=m.isNode(w),y=typeof w==='string'||n.isHTML(w);this.containsReactComponent=i.isValidComponent(w);if(y){w=n(w).getRootNode();}else if(this.containsReactComponent){var z=document.createElement('div');i.renderComponent(w,z);w=this._reactContainer=z;}}this._root=this._buildWrapper(v,w);if(v.attributes)m.setAttributes(this._root,v.attributes);if(v.classNames)v.classNames.forEach(k.addClass.curry(this._root));k.addClass(this._root,'uiLayer');if(v.causalElement)this._causalElement=s(v.causalElement);l.set(this._root,'layer',this);},_getDefaultBehaviors:function(){return [];},getCausalElement:function(){return this._causalElement;},setCausalElement:function(v){this._causalElement=v;return this;},getInsertParent:function(){return this._insertParent||document.body;},getRoot:function(){return this._root;},_getContentRoot:function(){return this._root;},_buildWrapper:function(v,w){return w;},setInsertParent:function(v){if(v){if(this._shown&&v!==this.getInsertParent()){m.appendContent(v,this.getRoot());this.updatePosition();}this._insertParent=v;}return this;},show:function(){if(this._shown)return this;var v=this.getRoot();this.inform('beforeshow');q.set(v,'visibility','hidden');q.set(v,'overflow','hidden');k.show(v);m.appendContent(this.getInsertParent(),v);if(this.updatePosition()!==false){this._shown=true;this.inform('show');u.inform('show',this);!function(){if(this._shown)t.push(this);}.bind(this).defer();}else k.hide(v);q.set(v,'visibility','');q.set(v,'overflow','');this.inform('aftershow');return this;},hide:function(){if(this._hiding||!this._shown||this.inform('beforehide')===false)return this;this._hiding=true;if(this.inform('starthide')!==false)this.finishHide();return this;},conditionShow:function(v){return v?this.show():this.hide();},finishHide:function(){if(this._shown){t.remove(this);this._hiding=false;this._shown=false;k.hide(this.getRoot());this.inform('hide');u.inform('hide',this);}},isShown:function(){return this._shown;},updatePosition:function(){return true;},destroy:function(){if(this.containsReactComponent)i.destroyAndReleaseReactRootNode(this._reactContainer);this.finishHide();var v=this.getRoot();m.remove(v);this.destroyBehaviors();this.inform('destroy');u.inform('destroy',this);l.remove(v,'layer');this._root=this._causalElement=null;}});Event.listen(document.documentElement,'keydown',function(event){if(o.filterEventTargets(event,'keydown'))for(var v=t.length-1;v>=0;v--)if(t[v].inform('key',event)===false)return false;},Event.Priority.URGENT);Event.listen(document.documentElement,'click',function(event){var v=t.length;if(!v)return;var w=event.getTarget();if(!m.contains(document.documentElement,w))return;if(p.byClass(w,'generic_dialog'))return;var x,y;while(v--){x=t[v];y=x.getContentRoot();if(j.containsIncludingLayers(y,w))return;x.inform('blur');if(x.isShown())return;}});e.exports=u;});
__d("LayerHideOnTransition",["Arbiter","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_subscription:null,enable:function(){this._subscription=g.subscribe('page_transition',this._layer.hide.shield(this._layer),g.SUBSCRIBE_NEW);},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}}});e.exports=i;});
__d("Rect",["Vector","$","copyProperties"],function(a,b,c,d,e,f){var g=b('Vector'),h=b('$'),i=b('copyProperties');function j(k,l,m,n,o){if(arguments.length===1){if(k instanceof j)return k;if(k instanceof g)return new j(k.y,k.x,k.y,k.x,k.domain);return j.getElementBounds(h(k));}i(this,{t:k,r:l,b:m,l:n,domain:o||'pure'});}i(j.prototype,{w:function(){return this.r-this.l;},h:function(){return this.b-this.t;},toString:function(){return '(('+this.l+', '+this.t+'), ('+this.r+', '+this.b+'))';},contains:function(k){k=new j(k).convertTo(this.domain);var l=this;return (l.l<=k.l&&l.r>=k.r&&l.t<=k.t&&l.b>=k.b);},add:function(k,l){if(arguments.length==1){if(k.domain!='pure')k=k.convertTo(this.domain);return this.add(k.x,k.y);}var m=parseFloat(k),n=parseFloat(l);return new j(this.t+n,this.r+m,this.b+n,this.l+m,this.domain);},sub:function(k,l){if(arguments.length==1){return this.add(k.mul(-1));}else return this.add(-k,-l);},boundWithin:function(k){var l=0,m=0;if(this.l<k.l){l=k.l-this.l;}else if(this.r>k.r)l=k.r-this.r;if(this.t<k.t){m=k.t-this.t;}else if(this.b>k.b)m=k.b-this.b;return this.add(l,m);},getCenter:function(){return new g(this.l+this.w()/2,this.t+this.h()/2,this.domain);},getPositionVector:function(){return new g(this.l,this.t,this.domain);},getDimensionVector:function(){return new g(this.w(),this.h(),'pure');},convertTo:function(k){if(this.domain==k)return this;if(k=='pure')return new j(this.t,this.r,this.b,this.l,'pure');if(this.domain=='pure'){emptyFunction('Unable to convert a pure rect to %s coordinates.',k);return new j(0,0,0,0);}var l=new g(this.l,this.t,this.domain).convertTo(k);return new j(l.y,l.x+this.w(),l.y+this.h(),l.x,k);}});i(j,{deserialize:function(k){var l=k.split(':');return new j(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[0]));},newFromVectors:function(k,l){return new j(k.y,k.x+l.x,k.y+l.y,k.x,k.domain);},getElementBounds:function(k){return j.newFromVectors(g.getElementPosition(k),g.getElementDimensions(k));},getViewportBounds:function(){return j.newFromVectors(g.getScrollPosition(),g.getViewportDimensions());},minimumBoundingBox:function(k){var l=new j(Math.min(),Math.max(),Math.max(),Math.min()),m;for(var n=0;n<k.length;n++){m=k[n];l.t=Math.min(l.t,m.t);l.r=Math.max(l.r,m.r);l.b=Math.max(l.b,m.b);l.l=Math.min(l.l,m.l);}return l;}});e.exports=j;});
__d("ContextualLayer",["array-extensions","event-extensions","Arbiter","ARIA","Class","ContextualThing","CSS","DataStore","DOM","Layer","LayerHideOnTransition","Locale","Parent","Rect","Style","Vector","copyProperties","throttle","emptyFunction","getOverlayZIndex"],function(a,b,c,d,e,f){b('array-extensions');b('event-extensions');var g=b('Arbiter'),h=b('ARIA'),i=b('Class'),j=b('ContextualThing'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Layer'),o=b('LayerHideOnTransition'),p=b('Locale'),q=b('Parent'),r=b('Rect'),s=b('Style'),t=b('Vector'),u=b('copyProperties'),v=b('throttle'),w=b('emptyFunction'),x=b('getOverlayZIndex');function y(fa){return fa.getPosition()==='left'||(fa.isVertical()&&fa.getAlignment()==='right');}function z(fa){var ga=fa.parentNode;if(ga){var ha=s.get(ga,'position');if(ha==='static'){if(ga===document.body){ga=document.documentElement;}else ga=z(ga);}else return ga;}else ga=document.documentElement;return ga;}function aa(fa,ga){this.parent.construct(this,fa,ga);}var ba=[];g.subscribe('reflow',function(){ba.forEach(function(fa){if(fa.updatePosition()===false)fa.hide();});});i.extend(aa,n);u(aa.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_configure:function(fa,ga){this.parent._configure(fa,ga);if(fa.context){this.setContext(fa.context);}else if(fa.contextID){this._setContextID(fa.contextID);}else if(fa.contextSelector)this._setContextSelector(fa.contextSelector);this.setPosition(fa.position);this.setAlignment(fa.alignment);this.setOffsetX(fa.offsetX);this.setOffsetY(fa.offsetY);this._content=ga;},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([o]);},_buildWrapper:function(fa,ga){this._contentWrapper=m.create('div',{className:'uiContextualLayer'},ga);return m.create('div',{className:'uiContextualLayerPositioner'},this._contentWrapper);},getInsertParent:function(){var fa=this._insertParent;if(!fa){var ga=this.getContext();if(ga)fa=q.byClass(ga,'uiContextualLayerParent');}return fa||this.parent.getInsertParent();},setContent:function(fa){this._content=fa;m.setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this;},setContext:function(fa){return this.setContextWithBounds(fa,null);},setContextWithBounds:function(fa,ga){this._contextNode=fa;this._contextBounds=ga||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){j.register(this.getRoot(),this._contextNode);this.updatePosition();}this._setParentSubscription();h.setPopup(this.getCausalElement(),this.getRoot());return this;},_setContextID:function(fa){this._contextSelector='#'+fa;this._contextNode=null;},_setContextSelector:function(fa){this._contextSelector=fa;this._contextNode=null;},getCausalElement:function(){return this.parent.getCausalElement()||this.getContext();},_setParentSubscription:function(){var fa=this.getContext(),ga=null;while(fa!==null){ga=l.get(fa,'layer');if(ga)break;fa=fa.parentNode;}if(ga===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null;}if(ga)this._parentSubscription=ga.subscribe('hide',this.hide.bind(this));this._parentLayer=ga;},setPosition:function(fa){if(this._getOrientation().setDefaultPosition(fa))this._shown&&this.updatePosition();return this;},setAlignment:function(fa){if(this._getOrientation().setDefaultAlignment(fa))this._shown&&this.updatePosition();return this;},setOffsetX:function(fa){if(this._getOrientation().setDefaultOffsetX(fa))this._shown&&this.updatePosition();return this;},setOffsetY:function(fa){if(this._getOrientation().setDefaultOffsetY(fa))this._shown&&this.updatePosition();return this;},_getOrientation:function(){if(!this._orientation)this._orientation=new ea();return this._orientation;},getContentRoot:function(){return this._contentWrapper;},getContent:function(){return this._content;},getContext:function(){if(!this._contextNode)this._contextNode=m.find(document,this._contextSelector);return this._contextNode;},_getContextBounds:function(fa){if(this._contextBounds)return this._contextBounds.convertTo(fa);var ga=this.getContext();return r.newFromVectors(t.getElementPosition(ga,fa),t.getElementDimensions(ga));},getContextScrollParent:function(){if(!this._contextScrollParent)this._contextScrollParent=s.getScrollParent(this.getContext());return this._contextScrollParent;},setInsertParent:function(fa){this._insertScrollParent=null;return this.parent.setInsertParent(fa);},getInsertScrollParent:function(){if(!this._insertScrollParent)this._insertScrollParent=s.getScrollParent(this.getInsertParent());return this._insertScrollParent;},show:function(){if(this._shown)return this;this.parent.show();if(this._shown){j.register(this.getRoot(),this.getContext());ba.push(this);this._resizeListener=this._resizeListener||Event.listen(window,'resize',v(this.updatePosition.bind(this)));}return this;},finishHide:function(){ba.remove(this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;return this.parent.finishHide();},updatePosition:function(){var fa=this.getContext();if(!fa)return false;var ga=s.isFixed(fa)&&!s.isFixed(this.getInsertParent());if(!ga&&!fa.offsetParent)return false;var ha=this._getOrientation();this.inform('adjust',ha.reset());if(!ha.isValid())return false;this._updateWrapperPosition(ha);this._updateWrapperClass(ha);var ia=this.getRoot();k.conditionClass(ia,'uiContextualLayerPositionerFixed',ga);var ja,ka,la=ga?'viewport':'document',ma=ga?document.documentElement:z(ia);if(ma===document.documentElement){ja=new t(0,0);ka=document.documentElement.clientWidth;}else if(!ia.offsetParent){return false;}else{ja=t.getElementPosition(ma,la);ka=ma.offsetWidth;if(ma!==document.body)ja=ja.sub(new t(ma.scrollLeft,ma.scrollTop));}var na=this._getContextBounds(la),oa=na.l-ja.x,pa=na.t-ja.y,qa=na.h(),ra=na.w(),sa=p.isRTL();if(ha.getPosition()==='below')pa+=qa;if((ha.getPosition()==='right'||(ha.isVertical()&&ha.getAlignment()==='right'))!=sa)oa+=ra;var ta=ha.getOffsetX();if(ha.isVertical()&&ha.getAlignment()==='center')ta+=(ra-this._content.offsetWidth)/2;if(sa)ta*=-1;var ua='left',va=oa+ta;if(y(ha)!==sa){ua='right';va=ka-va;}s.set(ia,ua,va+'px');s.set(ia,ua==='left'?'right':'left','');var wa=this.getInsertScrollParent(),xa;if(wa!==window){xa=wa.clientWidth;}else xa=document.documentElement.clientWidth;var ya=t.getElementPosition(ia).x;if(ua==='left'){if(xa-ya>0){s.set(ia,'width',(xa-ya)+'px');}else s.set(ia,'width','');}else s.set(ia,'width',ya+ia.offsetWidth+'px');s.set(ia,'top',(pa+ha.getOffsetY())+'px');var za=x(fa,this.getInsertParent());s.set(ia,'z-index',za>200?za:'');this.inform('reposition',ha);return true;},_updateWrapperPosition:function(fa){var ga=fa.getPosition()==='above';s.set(this._contentWrapper,'bottom',ga?'0':null);var ha=p.isRTL()?'left':'right',ia=y(fa);s.set(this._contentWrapper,ha,ia?'0':null);},_updateWrapperClass:function(fa){var ga=fa.getClassName();if(ga===this._orientationClass)return;if(this._orientationClass)k.removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=ga;k.addClass(this._contentWrapper,ga);},simulateOrientation:function(fa,ga){var ha=fa.getClassName();if(ha===this._orientationClass){return ga();}else{if(this._orientationClass)k.removeClass(this._contentWrapper,this._orientationClass);k.addClass(this._contentWrapper,ha);var ia=ga();k.removeClass(this._contentWrapper,ha);if(this._orientationClass)k.addClass(this._contentWrapper,this._orientationClass);return ia;}},destroy:function(){this.parent.destroy();this._contentWrapper=null;this._content=null;return this;}});var ca=w.thatReturnsArgument,da=w.thatReturnsArgument;function ea(){this._default={_position:'above',_alignment:'left',_offsetX:0,_offsetY:0,_valid:true};this.reset();}ea.OPPOSITE={above:'below',below:'above',left:'right',right:'left'};u(ea.prototype,{setPosition:function(fa){this._position=ca(fa);return this;},setAlignment:function(fa){this._alignment=da(fa);return this;},getOppositePosition:function(){return ea.OPPOSITE[this.getPosition()];},invalidate:function(){this._valid=false;return this;},getPosition:function(){return this._position||'above';},getAlignment:function(){return this._alignment||'left';},getOffsetX:function(){var fa=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)fa*=-1;}else if(this._default._alignment!==this._alignment)fa*=-1;return fa;},getOffsetY:function(){var fa=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)fa*=-1;return fa;},getClassName:function(){var fa=this.getAlignment(),ga=this.getPosition();if(ga==='below'){if(fa==='left'){return 'uiContextualLayerBelowLeft';}else if(fa==='right'){return 'uiContextualLayerBelowRight';}else return 'uiContextualLayerBelowCenter';}else if(ga==='above'){if(fa==='left'){return 'uiContextualLayerAboveLeft';}else if(fa==='right'){return 'uiContextualLayerAboveRight';}else return 'uiContextualLayerAboveCenter';}else if(ga==='left'){return 'uiContextualLayerLeft';}else return 'uiContextualLayerRight';},isValid:function(){return this._valid;},isVertical:function(){return this.getPosition()==='above'||this.getPosition()==='below';},reset:function(fa,ga){u(this,this._default);return this;},setDefaultPosition:function(fa){var ga=this._default._position;this._default._position=ca(fa);return ga!==fa;},setDefaultAlignment:function(fa){var ga=this._default._alignment;this._default._alignment=da(fa);return ga!==fa;},setDefaultOffsetX:function(fa){var ga=this._default._offsetX;this._default._offsetX=fa;return ga!==fa;},setDefaultOffsetY:function(fa){var ga=this._default._offsetY;this._default._offsetY=fa;return ga!==fa;}});e.exports=aa;});
__d("ContextualLayerDimensions",["DOM","Locale","Rect","Vector","ViewportBounds","ge","getOverlayZIndex"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Locale'),i=b('Rect'),j=b('Vector'),k=b('ViewportBounds'),l=b('ge'),m=b('getOverlayZIndex'),n={getViewportRect:function(o){var p=l('globalContainer'),q=o.getContext(),r=(p&&g.contains(p,q))||m(q)<300,s=i.getViewportBounds();if(r){s.t+=k.getTop();if(h.isRTL()){s.l+=k.getRight();}else s.r-=k.getRight();}return s;},getLayerRect:function(o,p){var q=o.getContext(),r=j.getElementPosition(q,'viewport'),s=o.simulateOrientation(p,function(){return j.getElementDimensions(o.getContent());}),t=r.y+p.getOffsetY();if(p.getPosition()==='above'){t-=s.y;}else if(p.getPosition()==='below')t+=q.offsetHeight;var u=r.x+p.getOffsetX();if(p.isVertical()){var v=p.getAlignment();if(v==='center'){u+=(q.offsetWidth-s.x)/2;}else if((v==='right')!==h.isRTL())u+=q.offsetWidth-s.x;}else if((p.getPosition()==='right')!==h.isRTL()){u+=q.offsetWidth;}else u-=s.x;return new i(t,u+s.x,t+s.y,u,'viewport');}};e.exports=n;});
__d("ContextualLayerAutoFlip",["array-extensions","event-extensions","ContextualLayerDimensions","DOM","Vector","copyProperties"],function(a,b,c,d,e,f){b('array-extensions');b('event-extensions');var g=b('ContextualLayerDimensions'),h=b('DOM'),i=b('Vector'),j=b('copyProperties');function k(l){this._layer=l;}j(k.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('adjust',this._adjustOrientation.bind(this));if(this._layer.isShown())this._layer.updatePosition();},disable:function(){this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._layer.updatePosition();},_adjustOrientation:function(l,m){var n=this._getValidPositions(m);if(!n.length){m.invalidate();return;}var o=g.getViewportRect(this._layer),p=this._getValidAlignments(m);for(var q=0;q<p.length;q++){m.setAlignment(p[q]);for(var r=0;r<n.length;r++){m.setPosition(n[r]);var s=g.getLayerRect(this._layer,m);if(o.contains(s))return;}}m.setPosition(n.contains('below')?'below':n[0]).setAlignment(p[0]);},_getValidPositions:function(l){var m=[l.getPosition(),l.getOppositePosition()],n=this._layer.getContextScrollParent();if(n===window||n===h.getDocumentScrollElement())return m;var o=this._layer.getContext(),p=i.getElementPosition(n,'viewport').y,q=i.getElementPosition(o,'viewport').y;if(l.isVertical()){return m.filter(function(s){if(s==='above'){return q>=p;}else{var t=p+n.offsetHeight,u=q+o.offsetHeight;return u<=t;}});}else{var r=p+n.offsetHeight;if(q>=p&&q+o.offsetHeight<=r){return m;}else return [];}},_getValidAlignments:function(l){var m=['left','center','right'],n=l.getAlignment(),o=m.indexOf(n);if(o>0){m.splice(o,1);m.unshift(n);}return m;}});e.exports=k;});
__d("ContextualLayerHideOnScroll",["event-extensions","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscriptions:[],enable:function(){this._subscriptions=[this._layer.subscribe('contextchange',this._handleContextChange.bind(this)),this._layer.subscribe('show',this.attach.bind(this)),this._layer.subscribe('hide',this.detach.bind(this))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();},attach:function(){if(this._listener)return;var i=this._layer.getContextScrollParent();if(i===window)return;this._listener=Event.listen(i,'scroll',this._layer.hide.bind(this._layer));},detach:function(){this._listener&&this._listener.remove();this._listener=null;},_handleContextChange:function(){this.detach();if(this._layer.isShown())this.attach();}});e.exports=h;});
__d("BasicTypeaheadRenderer",["DOM"],function(a,b,c,d,e,f){var g=b('DOM');function h(i,j){var k=[];if(i.icon)k.push(g.create('img',{alt:'',src:i.icon}));if(i.text)k.push(g.create('span',{className:'text'},[i.text]));if(i.subtext)k.push(g.create('span',{className:'subtext'},[i.subtext]));var l=g.create('li',{className:i.type||''},k);if(i.text)l.setAttribute('aria-label',i.text);return l;}h.className='basic';e.exports=h;});
__d("TypeaheadView",["event-extensions","ArbiterMixin","BasicTypeaheadRenderer","CSS","DOM","Parent","$","copyProperties","emptyFunction"],function(a,b,c,d,e,f){b('event-extensions');var g=b('ArbiterMixin'),h=b('BasicTypeaheadRenderer'),i=b('CSS'),j=b('DOM'),k=b('Parent'),l=b('$'),m=b('copyProperties'),n=b('emptyFunction');function o(p,q){this.element=this.content=l(p);m(this,q);}m(o.prototype,g,{events:['highlight','render','reset','select','beforeRender','next','prev'],renderer:h,autoSelect:false,ignoreMouseover:false,init:function(){this.init=n;this.initializeEvents();this.reset();},initializeEvents:function(){Event.listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)});},setTypeahead:function(p){this.typeahead=p;},setAccessibilityControlElement:function(p){this.accessibilityElement=p;},getElement:function(){return this.element;},mouseup:function(event){if(event.button!=2){this.select(true);event.kill();}},mouseover:function(event){if(this.ignoreMouseover){this.ignoreMouseover=false;return;}if(this.visible)this.highlight(this.getIndex(event));},reset:function(p){if(!p)this.disableAutoSelect=false;this.justRendered=false;this.justShown=false;this.index=-1;this.items=[];this.results=[];this.value='';this.content.innerHTML='';this.inform('reset');return this;},getIndex:function(event){return this.items.indexOf(k.byTag(event.getTarget(),'li'));},getSelection:function(){var p=this.results[this.index]||null;return this.visible?p:null;},isEmpty:function(){return !this.results.length;},isVisible:function(){return this.visible;},show:function(){i.show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute('aria-activedescendant',j.getID(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-expanded','true');this.visible=true;return this;},hide:function(){i.hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute('aria-expanded','false');this.accessibilityElement.removeAttribute('aria-activedescendant');}this.visible=false;return this;},render:function(p,q,r){this.value=p;if(!q.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.reset(true);return;}this.justRendered=true;if(!this.results.length)this.justShown=true;var s={results:q,value:p};this.inform('beforeRender',s);q=s.results;var t=this.getDefaultIndex(q);if(this.index>0&&this.index!==this.getDefaultIndex(this.results)){var u=this.results[this.index];for(var v=0,w=q.length;v<w;++v)if(u.uid==q[v].uid){t=v;break;}}this.results=q;j.setContent(this.content,this.buildResults(q));this.items=this.getItems();this.highlight(t,false);this.inform('render',q);},getItems:function(){return j.scry(this.content,'li');},buildResults:function(p){var q,r=null;if(typeof this.renderer=='function'){q=this.renderer;r=this.renderer.className||'';}else{q=a.TypeaheadRenderers[this.renderer];r=this.renderer;}q=q.bind(this);var s=p.map(function(u,v){var w=u.node||q(u,v);w.setAttribute('role','option');return w;}),t=j.create('ul',{className:r,id:'typeahead_list_'+(this.typeahead?j.getID(this.typeahead):j.getID(this.element))},s);t.setAttribute('role','listbox');return t;},getDefaultIndex:function(p){var q=(this.autoSelect&&!this.disableAutoSelect);return this.index<0&&!q?-1:0;},next:function(){this.highlight(this.index+1);this.inform('next',this.selected);},prev:function(){this.highlight(this.index-1);this.inform('prev',this.selected);},getItemText:function(p){var q='';if(p){q=p.getAttribute('aria-label');if(!q){q=j.getText(p);p.setAttribute('aria-label',q);}}return q;},setIsViewingSelectedItems:function(p){this.viewingSelected=p;return this;},getIsViewingSelectedItems:function(){return this.viewingSelected;},highlight:function(p,q){var r=true;if(this.selected){i.removeClass(this.selected,'selected');this.selected.setAttribute('aria-selected','false');}if(p>this.items.length-1){p=-1;}else if(p<-1)p=this.items.length-1;if(p>=0&&p<this.items.length){if(this.selected&&this.getItemText(this.items[p])===this.getItemText(this.selected))r=false;this.selected=this.items[p];i.addClass(this.selected,'selected');this.selected.setAttribute('aria-selected','true');this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-activedescendant',j.getID(this.selected));}else this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.index=p;this.disableAutoSelect=(p==-1);var s=(p!==-1),t=this.getItemText(this.selected);if(p!==-1&&this.isVisible()&&t&&this.autoSelect)if(this.justShown){this.justRendered=false;this.justShown=false;s=false;}else if(r&&this.justRendered){this.justRendered=false;s=false;}if(q!==false)this.inform('highlight',{index:p,selected:this.results[p],element:this.selected});},select:function(p){var q=this.index,r=this.results[q],s=this.element.getAttribute('id');if(r){this.inform('select',{index:q,clicked:!!p,selected:r,id:s});this.inform('afterSelect');}}});e.exports=o;});
__d("BucketedTypeaheadView",["Class","DOM","TypeaheadView","copyProperties"],function(a,b,c,d,e,f){var g=b('Class'),h=b('DOM'),i=b('TypeaheadView'),j=b('copyProperties');function k(l,m){this.parent.construct(this,l,m);}g.extend(k,i);j(k.prototype,{render:function(l,m,n){m=this.buildBuckets(l,m);return this.parent.render(l,m,n);},highlight:function(l,m){if(l==-1&&this.index!==0)l=this.index;if(l>=0&&l<this.items.length&&this.results[l].type=='header')l=l+1;this.parent.highlight(l,m);},buildBuckets:function(l,m){if(!this.typeObjects)return m;var n=[],o={};for(var p=0;p<m.length;++p){var q=m[p],r=q.render_type||q.type;if(!o.hasOwnProperty(r)){o[r]=n.length;n.push([this.buildBucketHeader(r)]);}q.classNames=r;q.groupIndex=o[r];q.indexInGroup=n[q.groupIndex].length-1;n[q.groupIndex].push(q);}var s=[];for(var t=0;t<n.length;++t)s=s.concat(n[t]);return s;},buildBucketHeader:function(l){var m=this.typeObjects[l];if(m.markup){m.text=m.markup;delete m.markup;}return this.typeObjects[l];},buildResults:function(l){var m=this.parent.buildResults(l);if(this.typeObjects){return h.create('div',{className:'bucketed'},[m]);}else return m;},select:function(l){var m=this.results[this.index];if(m&&m.type!='header')this.parent.select(l);},getDefaultIndex:function(l){var m=(this.autoSelect&&!this.disableAutoSelect),n=l.length===0?-1:(l[0].type=='header'?1:0);return this.index<0&&!m?-1:n;},prev:function(){var l=this.results[this.index-1];if(l&&l.type=='header')this.index--;return this.parent.prev();},next:function(){var l=this.results[this.index+1];if(l&&l.type=='header')this.index++;return this.parent.next();}});e.exports=k;});
__d("ContextualTypeaheadView",["event-extensions","Class","ContextualLayer","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","CSS","DOM","Style","BucketedTypeaheadView","Vector","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Class'),h=b('ContextualLayer'),i=b('ContextualLayerAutoFlip'),j=b('ContextualLayerHideOnScroll'),k=b('CSS'),l=b('DOM'),m=b('Style'),n=b('BucketedTypeaheadView'),o=b('Vector'),p=b('copyProperties');function q(r,s){this.parent.construct(this,r,s);}g.extend(q,n);p(q.prototype,{init:function(){this.initializeLayer();this.parent.init();},initializeLayer:function(){this.context=this.getContext();this.wrapper=l.create('div');l.appendContent(this.wrapper,this.element);k.addClass(this.element,'uiContextualTypeaheadView');this.layer=new h({context:this.context,position:'below',causalElement:this.causalElement},this.wrapper);this.layer.enableBehavior(j);if(m.isFixed(this.context)||this.autoflip)this.layer.enableBehavior(i);this.subscribe('render',this.renderLayer.bind(this));},show:function(){this.layer.show();o.getElementDimensions(this.context).setElementWidth(this.wrapper);return this.parent.show();},hide:function(){this.layer.hide();return this.parent.hide();},renderLayer:function(){if(!this.isVisible())return;if(this.layer.isShown()){this.layer.updatePosition();}else this.layer.show();},getContext:function(){return this.element.parentNode;}});e.exports=q;});
__d("FileForm",["event-extensions","ArbiterMixin","AsyncRequest","AsyncUploadRequest","AsyncResponse","BehaviorsMixin","DataStore","DOMQuery","Env","Form","JSONPTransport","Parent","URI","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('ArbiterMixin'),h=b('AsyncRequest'),i=b('AsyncUploadRequest'),j=b('AsyncResponse'),k=b('BehaviorsMixin'),l=b('DataStore'),m=b('DOMQuery'),n=b('Env'),o=b('Form'),p=b('JSONPTransport'),q=b('Parent'),r=b('URI'),s=b('copyProperties');function t(v){var w={},x=m.scry(v,'input[type="file"]');x.forEach(function(y){w[y.name]=y.files;});return w;}function u(v,w,x){if(v.getAttribute('rel')==='async')throw new Error('FileForm cannot be used with Primer forms.');if(v.getAttribute('method').toUpperCase()!=='POST')throw new Error('FileForm must be used with POST forms.');this._form=v;this._previousEncoding=this._form.enctype;this._form.enctype=this._form.encoding='multipart/form-data';w&&this.enableBehaviors(w);this._options=x||{};this.setAllowCrossOrigin(this._options.allowCrossOrigin);this.setUploadInParallel(this._options.uploadInParallel);this._listener=Event.listen(this._form,'submit',this._submit.bind(this));l.set(this._form,'FileForm',this);}s(u,{EVENTS:['start','submit','initial','progress','success','failure'],getInstance:function(v){return l.get(v,'FileForm');}});s(u.prototype,g,k,{getRoot:function(){return this._form;},setAllowCrossOrigin:function(v){this._allowCrossOrigin=!!v;return this;},setUploadInParallel:function(v){this._uploadInParallel=!!v;return this;},_submit:function(event){if(this.inform('submit')===false){event.prevent();return;}var v='FormData' in window;if(v)if(!r(this._form.action).isSameOrigin()&&!this._allowCrossOrigin){emptyFunction('Attempted to submit a FileForm via XHR to a different domain '+'without explicitly allowing cross-domain requests; falling back '+'to iframe transport. See: http://fburl.com/cors');v=false;}return v?this._sendViaXHR(event):this._sendViaFrame(event);},_sendViaFrame:function(event){var v=this._request=new h();v.setStatusElement(this._getStatusElement());v.addStatusIndicator();v.setOption('useIframeTransport',true);var w=v.handleResponse.bind(v),x=new p('iframe',this._form.action,w),y=x.getTransportFrame(),z=x.getRequestURI().addQueryData({__iframe:true,__user:n.user});this._form.setAttribute('action',z.toString());this._form.setAttribute('target',y.name);v.setJSONPTransport(x);v.setURI(z);v.setHandler(this.success.bind(this,null));v.setErrorHandler(this.failure.bind(this,null));v.setInitialHandler(this.initial.shield(this,null));},_sendViaXHR:function(event){var v;if(this._uploadInParallel&&i.isSupported()){v=new i().setData(o.serialize(this._form)).setFiles(t(this._form));var w=[v.subscribe('progress',function(x,y){this.progress(y,y.getProgressEvent());}.bind(this)),v.subscribe('initial',function(x,y){this.initial(y,y.getResponse());}.bind(this)),v.subscribe('success',function(x,y){this.success(y,y.getResponse());}.bind(this)),v.subscribe('start',function(x,y){this.inform('start',{upload:y});}.bind(this)),v.subscribe('failure',function(x,y){this.failure(y,y.getResponse());return false;}.bind(this)),v.subscribe('complete',function(){while(w.length)w.pop().unsubscribe();})];}else v=new h().setRawData(o.createFormData(this._form)).setHandler(this.success.bind(this,null)).setErrorHandler(this.failure.bind(this,null)).setUploadProgressHandler(this.progress.bind(this,null)).setInitialHandler(this.initial.shield(this,null));v.setAllowCrossOrigin(this._allowCrossOrigin).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=v;event.prevent();},initial:function(v){return this.inform('initial',{upload:v});},success:function(v,w){var x={response:w,upload:v};if(this.inform('success',x)!==false)Event.fire(this._form,'success',x);this._cleanup();},failure:function(v,w){var x={response:w,upload:v};if(this.inform('failure',x)!==false)if(Event.fire(this._form,'error',x)!==false)j.defaultErrorHandler(w);this._cleanup();},progress:function(v,event){this.inform('progress',{event:event,upload:v});},abort:function(){if(this._request){this._request.abort();this._cleanup();}},destroy:function(){this._cleanup();this._listener.remove();this._listener=null;this._form.enctype=this._form.encoding=this._previousEncoding;l.remove(this._form,'FileForm');},_cleanup:function(){this._request=null;},_getStatusElement:function(){return q.byClass(this._form,'stat_elem')||this._form;}});e.exports=u;});
__d("flattenArray",[],function(a,b,c,d,e,f){function g(h){var i=[];while(h.length){var j=h.pop();if(Array.isArray(j)){Array.prototype.push.apply(h,j);}else i.push(j);}return i.reverse();}e.exports=g;});
__d("JSXDOM",["DOM","flattenArray"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('flattenArray'),i=['a','br','button','checkbox','dd','div','dl','dt','form','h1','h2','h3','h4','h5','h6','hr','i','iframe','img','input','label','li','option','p','pre','select','span','strong','table','td','textarea','th','tr','ul'],j={};i.forEach(function(k){var l=function(m){var n;if(m.children){n=Array.isArray(m.children)?h(m.children):h([m.children]);delete m.children;}return g.create(k,m,n);};j[k]=l;});e.exports=j;});
__d("KeyStatus",["event-extensions"],function(a,b,c,d,e,f){b('event-extensions');var g=null,h=null;function i(){if(!h)h=Event.listen(window,'blur',function(){g=null;j();});}function j(){if(h){h.remove();h=null;}}Event.listen(document.documentElement,'keydown',function(l){g=Event.getKeyCode(l);i();},Event.Priority.URGENT);Event.listen(document.documentElement,'keyup',function(l){g=null;j();},Event.Priority.URGENT);var k={isKeyDown:function(){return !!g;},getKeyDownCode:function(){return g;}};e.exports=k;});
__d("Menu",["event-extensions","Arbiter","CSS","DataStore","DOM","HTML","Keys","Parent","Run","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('HTML'),l=b('Keys'),m=b('Parent'),n=b('Run'),o=b('Style'),p=b('UserAgent'),q=b('copyProperties'),r=null,s='menu:mouseover',t=null;function u(ca){if(h.hasClass(ca,'uiMenuContainer'))return ca;return m.byClass(ca,'uiMenu');}function v(ca){return m.byClass(ca,'uiMenuItem');}function w(ca){if(document.activeElement){var da=v(document.activeElement);return ca.indexOf(da);}return -1;}function x(ca){return j.find(ca,'a.itemAnchor');}function y(ca){return h.hasClass(ca,'checked');}function z(ca){return !h.hasClass(ca,'disabled')&&o.get(ca,'display')!=='none';}function aa(event){var ca=document.activeElement;if(!ca||!m.byClass(ca,'uiMenu')||!j.isNodeOfType(ca,['input','textarea'])){var da=v(event.getTarget());da&&r.focusItem(da);}}function ba(ca){p.firefox()&&x(ca).blur();r.inform('select',{menu:u(ca),item:ca});}n.onLoad(function(){var ca={};ca.click=function(event){var da=v(event.getTarget());if(da&&z(da)){ba(da);var ea=x(da),fa=ea.href,ga=ea.getAttribute('rel');return (ga&&ga!=='ignore')||(fa&&fa.charAt(fa.length-1)!=='#');}};ca.keydown=function(event){var da=event.getTarget();if(event.getModifiers().any)return;if(!t||j.isNodeOfType(da,['input','textarea']))return;var ea=Event.getKeyCode(event),fa;switch(ea){case l.UP:case l.DOWN:var ga=r.getEnabledItems(t);fa=w(ga);r.focusItem(ga[fa+(ea===l.UP?-1:1)]);return false;case l.SPACE:var ha=v(da);if(ha){ba(ha);event.prevent();}break;default:var ia=String.fromCharCode(ea).toLowerCase(),ja=r.getEnabledItems(t);fa=w(ja);var ka=fa,la=ja.length;while((~fa&&(ka=++ka%la)!==fa)||(!~fa&&++ka<la)){var ma=r.getItemLabel(ja[ka]);if(ma&&ma.charAt(0).toLowerCase()===ia){r.focusItem(ja[ka]);return false;}}}};Event.listen(document.documentElement,ca);});r=e.exports=q(new g(),{focusItem:function(ca){if(ca&&z(ca)){this._removeSelected(u(ca));h.addClass(ca,'selected');x(ca).focus();}},getEnabledItems:function(ca){return r.getItems(ca).filter(z);},getCheckedItems:function(ca){return r.getItems(ca).filter(y);},getItems:function(ca){return j.scry(ca,'li.uiMenuItem');},getItemLabel:function(ca){return ca.getAttribute('data-label',2)||'';},isItemChecked:function(ca){return h.hasClass(ca,'checked');},register:function(ca,da){ca=u(ca);if(!i.get(ca,s))i.set(ca,s,Event.listen(ca,'mouseover',aa));if(da!==false)t=ca;},setItemEnabled:function(ca,da){if(!da&&!j.scry(ca,'span.disabledAnchor')[0])j.appendContent(ca,j.create('span',{className:j.find(ca,'a').className+' disabledAnchor'},k(x(ca).innerHTML)));h.conditionClass(ca,'disabled',!da);},toggleItem:function(ca){var da=!r.isItemChecked(ca);r.setItemChecked(ca,da);},setItemChecked:function(ca,da){h.conditionClass(ca,'checked',da);x(ca).setAttribute('aria-checked',da);},unregister:function(ca){ca=u(ca);var da=i.remove(ca,s);da&&da.remove();t=null;this._removeSelected(ca);},_removeSelected:function(ca){r.getItems(ca).filter(function(da){return h.hasClass(da,'selected');}).forEach(function(da){h.removeClass(da,'selected');});}});});
__d("PopoverMenuInterface",["Arbiter","ArbiterMixin","Class","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('Class'),j=b('copyProperties'),k=b('emptyFunction');function l(){}j(l.prototype,h,{getRoot:k,onShow:k,onHide:k,focusAnItem:k.thatReturnsFalse,blur:k,handleKeydown:k.thatReturnsFalse,done:function(){this.inform('done');}});e.exports=l;});
__d("ScrollableArea",["array-extensions","event-extensions","throttle","Animation","ArbiterMixin","CSS","DataStore","DOM","Parent","Run","SimpleDrag","Style","UserAgent","Vector","copyProperties"],function(a,b,c,d,e,f){b('array-extensions');b('event-extensions');var g=b('throttle'),h=b('Animation'),i=b('ArbiterMixin'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Parent'),n=b('Run'),o=b('SimpleDrag'),p=b('Style'),q=b('UserAgent'),r=b('Vector'),s=b('copyProperties'),t=12;function u(v,w){if(!v)return;w=w||{};this._elem=v;this._wrap=l.find(v,'div.uiScrollableAreaWrap');this._body=l.find(this._wrap,'div.uiScrollableAreaBody');this._content=l.find(this._body,'div.uiScrollableAreaContent');this._track=l.find(v,'div.uiScrollableAreaTrack');this._gripper=l.find(this._track,'div.uiScrollableAreaGripper');this._options=w;this._throttledComputeHeights=g(this._computeHeights,250,this);this.throttledAdjustGripper=g(this.adjustGripper,250,this);this._throttledShowGripperAndShadows=g(this._showGripperAndShadows,250,this);this.adjustGripper.bind(this).defer();this._listeners=[Event.listen(v,'mousemove',this._handleMousemove.bind(this)),Event.listen(this._wrap,'scroll',this._handleScroll.bind(this)),Event.listen(this._track,'click',this._handleClickOnTrack.bind(this))];if(w.fade!==false)this._listeners.push(Event.listen(v,'mouseenter',this.showScrollbar.shield(this)),Event.listen(v,'mouseout',this.hideScrollbar.shield(this)));if(q.safari()||q.chrome()){this._listeners.push(Event.listen(v,'mousedown',function(){var x=Event.listen(window,'mouseup',function(){if(v.scrollLeft)v.scrollLeft=0;x.remove();});}));}else if(q.firefox())this._wrap.addEventListener('DOMMouseScroll',function(event){event.axis===event.HORIZONTAL_AXIS&&event.preventDefault();},false);this.initDrag();k.set(this._elem,'ScrollableArea',this);if(!w.persistent)n.onLeave(this.destroy.bind(this));if(w.shadow!==false)j.addClass(this._elem,'uiScrollableAreaWithShadow');}s(u,{renderDOM:function(){var v=l.create('div',{className:'uiScrollableAreaContent'}),w=l.create('div',{className:'uiScrollableAreaBody'},v),x=l.create('div',{className:'uiScrollableAreaWrap'},w),y=l.create('div',{className:'uiScrollableArea native'},x);return {root:y,wrap:x,body:w,content:v};},fromNative:function(v,w){if(!j.hasClass(v,'uiScrollableArea')||!j.hasClass(v,'native'))return;w=w||{};j.removeClass(v,'native');var x=l.create('div',{className:'uiScrollableAreaTrack'},l.create('div',{className:'uiScrollableAreaGripper'}));if(w.fade!==false){j.addClass(v,'fade');j.addClass(x,'invisible_elem');}else j.addClass(v,'nofade');l.appendContent(v,x);var y=new u(v,w);y.resize();return y;},getInstance:function(v){var w=m.byClass(v,'uiScrollableArea');return w?k.get(w,'ScrollableArea'):null;},poke:function(v){var w=u.getInstance(v);w&&w.poke();}});s(u.prototype,i,{initDrag:function(){var v=new o(this._gripper);v.subscribe('start',function(w,event){if(!((event.which&&event.which===1)||(event.button&&event.button===1)))return;var x=r.getEventPosition(event).y,y=this._gripper.offsetTop;j.addClass(this._track,'uiScrollableAreaDragging');var z=v.subscribe('update',function(ba,event){var ca=r.getEventPosition(event).y-x;this._throttledComputeHeights();var da=this._contentHeight-this._containerHeight,ea=y+ca,fa=this._trackHeight-this._gripperHeight;ea=Math.max(Math.min(ea,fa),0);var ga=ea/fa*da;this._wrap.scrollTop=ga;}.bind(this)),aa=v.subscribe('end',function(){v.unsubscribe(z);v.unsubscribe(aa);j.removeClass(this._track,'uiScrollableAreaDragging');}.bind(this));}.bind(this));},adjustGripper:function(){if(this._needsGripper()){p.set(this._gripper,'height',this._gripperHeight+'px');this._slideGripper();}this._throttledShowGripperAndShadows();return this;},_computeHeights:function(){this._containerHeight=this._elem.clientHeight;this._contentHeight=this._content.offsetHeight;this._trackHeight=this._track.offsetHeight;this._gripperHeight=Math.max(this._containerHeight/this._contentHeight*this._trackHeight,t);},_needsGripper:function(){this._throttledComputeHeights();return this._gripperHeight<this._trackHeight;},_slideGripper:function(){var v=this._wrap.scrollTop/(this._contentHeight-this._containerHeight)*(this._trackHeight-this._gripperHeight);p.set(this._gripper,'top',v+'px');},_showGripperAndShadows:function(){j.conditionShow(this._gripper,this._needsGripper());j.conditionClass(this._elem,'contentBefore',this._wrap.scrollTop>0);j.conditionClass(this._elem,'contentAfter',!this.isScrolledToBottom());},destroy:function(){this._listeners.forEach(function(v){v.remove();});this._listeners.length=0;},_handleClickOnTrack:function(event){if(!this.lastMousePosition)return;var v=this._gripper.getBoundingClientRect();if(this.lastMousePosition.y<v.top){this.setScrollTop(this.getScrollTop()-this._elem.clientHeight);}else if(this.lastMousePosition.y>v.bottom)this.setScrollTop(this.getScrollTop()+this._elem.clientHeight);},_handleMousemove:function(event){var v=r.getEventPosition(event);if(this._options.fade!==false){var w=r.getElementPosition(this._track).x,x=r.getElementDimensions(this._track).x;if(Math.abs(w+x/2-v.x)<25){this.showScrollbar(false);}else this.hideScrollbar();}this.lastMousePosition=v.convertTo('viewport');},_handleScroll:function(event){if(this._needsGripper())this._slideGripper();this.throttledAdjustGripper();if(this._options.fade!==false)this.showScrollbar();this.inform('scroll');},hideScrollbar:function(v){if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(v){p.set(this._track,'opacity',0);j.addClass.curry(this._track,'invisible_elem');}else this._hideTimeout=function(){if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}this._hideAnimation=(new h(this._track)).from('opacity',1).to('opacity',0).duration(250).ondone(j.addClass.curry(this._track,'invisible_elem')).go();}.bind(this).defer(750);return this;},resize:function(){var v=r.getElementDimensions(this._elem).x;if(this._options.fade===false)v-=10;v=Math.max(0,v);p.set(this._body,'width',v+'px');return this;},showScrollbar:function(v){this.throttledAdjustGripper();if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}p.set(this._track,'opacity',1);j.removeClass(this._track,'invisible_elem');if(v!==false)this.hideScrollbar();return this;},isScrolledToBottom:function(){return this._wrap.scrollTop>=this._contentHeight-this._containerHeight;},scrollToBottom:function(v){this.setScrollTop(this._wrap.scrollHeight,v);},scrollToTop:function(v){this.setScrollTop(0,v);},scrollIntoView:function(v,w){var x=this._wrap.clientHeight,y=v.offsetHeight,z=this._wrap.scrollTop,aa=z+x,ba=v.offsetTop,ca=ba+y;if(ba<z||x<y){this.setScrollTop(ba,w);}else if(ca>aa)this.setScrollTop(z+(ca-aa),w);},poke:function(){var v=this._wrap.scrollTop;this._wrap.scrollTop+=1;this._wrap.scrollTop-=1;this._wrap.scrollTop=v;return this.showScrollbar(false);},getScrollTop:function(){return this._wrap.scrollTop;},getScrollHeight:function(){return this._wrap.scrollHeight;},setScrollTop:function(v,w){if(w!==false){if(this._scrollTopAnimation)this._scrollTopAnimation.stop();this._scrollTopAnimation=(new h(this._wrap)).to('scrollTop',v).ease(h.ease.end).duration(250).go();}else this._wrap.scrollTop=v;}});e.exports=u;});
__d("MenuX",["event-extensions","Class","copyProperties","CSS","DataStore","DOM","HTML","Keys","Parent","PopoverMenuInterface","ScrollableArea","Style","UserAgent"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Class'),h=b('copyProperties'),i=b('CSS'),j=b('DataStore'),k=b('DOM'),l=b('HTML'),m=b('Keys'),n=b('Parent'),o=b('PopoverMenuInterface'),p=b('ScrollableArea'),q=b('Style'),r=b('UserAgent');function s(t,u,v,w){this.parent.construct(this);this._id=t;this._className=u;this._items=[];for(var x=0;x<v.length;x++)this._items[x]=new v[x].ctor(v[x]);this._config=w;}g.extend(s,o);h(s.prototype,{_focused:null,_root:null,addItem:function(t){this._items.push(t);if(this._root)this._insertItem(t);},getRoot:function(){if(!this._root)this._render();return this._root;},onShow:function(){if(this._config.maxheight)if(!this._scrollableArea){q.set(this._scrollableElems.root,'width',this._scrollableElems.body.offsetWidth+'px');this._scrollableArea=p.fromNative(this._scrollableElems.root,{fade:true});q.set(this._scrollableElems.wrap,'max-height',this._config.maxheight+'px');}else{q.set(this._scrollableElems.root,'width','');q.set(this._scrollableElems.content,'width','');if(r.ie()<=7){q.set(this._scrollableElems.root,'width',this._scrollableElems.content.offsetWidth+'px');}else q.set(this._scrollableElems.root,'width',this._scrollableElems.content.offsetWidth+'px');this._scrollableArea.resize();}},onHide:function(){this.blur();},focusAnItem:function(){return this._attemptFocus(0,1);},blur:function(){if(this._focused){this._focused.blur();this._focused=null;this.inform('blur');}},handleKeydown:function(t){var u=this._items.indexOf(this._focused);switch(t){case m.UP:case m.DOWN:var v=t===m.UP?-1:1;if(u!==-1){return this._attemptFocus(u+v,v);}else if(t===m.UP){return this._attemptFocus(this._items.length-1,-1);}else return this._attemptFocus(0,1);break;case m.SPACE:if(this._items.indexOf(this._focused)!==-1){this._handleItemClick(this._focused);return true;}return false;default:var w=String.fromCharCode(t).toLowerCase(),x;for(var y=u+1;y<this._items.length;y++){x=this._items[y].getAccessKey();if(x&&x.charAt(0).toLowerCase()===w)if(this._focusItem(this._items[y]))return true;}return false;}},_render:function(){this._ul=k.create('ul',{className:'uiMenuX'});this._ul.setAttribute('role','menu');this._items.forEach(this._insertItem.bind(this));Event.listen(this._ul,'click',this._handleClick.bind(this));Event.listen(this._ul,'mouseover',this._handleMouseOver.bind(this));Event.listen(this._ul,'mouseout',this._handleMouseOut.bind(this));var t=this._ul;if(this._config.maxheight){this._scrollableElems=p.renderDOM();k.setContent(this._scrollableElems.content,this._ul);t=this._scrollableElems.root;}var u='uiMenuXWrapper'+(this._className?' '+this._className:'');this._root=k.create('div',{className:u},k.create('div',{className:'uiMenuXBorder'},t));this._id&&this._root.setAttribute('id',this._id);},_handleClick:function(t){var u=this._getItemInstance(t.getTarget());if(u)return this._handleItemClick(u);},_handleItemClick:function(t){this.inform('itemclick',t);if(t.hasAction())this.done();return t.handleClick();},_handleMouseOver:function(t){var u=this._getItemInstance(t.getTarget());u&&this._focusItem(u);},_handleMouseOut:function(t){var u=this._getItemInstance(t.getTarget());if(u&&this._focused===u)this.blur();},_insertItem:function(t){var u=t.getRoot();i.addClass(u,'__MenuXItem');j.set(u,'MenuXItem',t);k.appendContent(this._ul,u);},_attemptFocus:function(t,u){var v=this._items[t];if(v)if(this._focusItem(v)){return true;}else return this._attemptFocus(t+u,u);return false;},_focusItem:function(t){if(t.focus()!==false){if(this._focused!==t){this.blur();this._focused=t;this.inform('focus');}return true;}return false;},_getItemInstance:function(t){var u=n.byClass(t,'__MenuXItem');return u?j.get(u,'MenuXItem'):null;}});e.exports=s;});
__d("MenuXItemInterface",["copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('emptyFunction');function i(){}g(i.prototype,{_root:null,getRoot:function(){if(!this._root)this._root=this.render();return this._root;},render:h,getAccessKey:h,hasAction:h.thatReturnsFalse,focus:h.thatReturnsFalse,blur:h.thatReturnsFalse,handleClick:h.thatReturnsFalse});e.exports=i;});
__d("MenuXItemBase",["Class","copyProperties","CSS","DOM","HTML","MenuXItemInterface"],function(a,b,c,d,e,f){var g=b('Class'),h=b('copyProperties'),i=b('CSS'),j=b('DOM'),k=b('HTML'),l=b('MenuXItemInterface');function m(n){this.parent.construct(this);this._data=n;}g.extend(m,l);h(m.prototype,{render:function(){var n='uiMenuXItem';if(this._data.className)n+=' '+this._data.className;var o={className:n,'aria-selected':'false'};for(var p in this._data)if(p.indexOf('data-')===0)o[p]=this._data[p];return j.create('li',o,this._renderItemContent());},_renderItemContent:function(){return k(this._data.markup).getNodes();}});e.exports=m;});
__d("MenuXItem",["event-extensions","Class","CSS","DOM","KeyStatus","MenuXItemBase","copyProperties","emptyFunction"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Class'),h=b('CSS'),i=b('DOM'),j=b('KeyStatus'),k=b('MenuXItemBase'),l=b('copyProperties'),m=b('emptyFunction');function n(o){this.parent.construct(this,o);}g.extend(n,k);l(n.prototype,{getValue:function(){return this._data.value;},getAccessKey:function(){return this._data.label&&this._data.label.charAt(0);},hasAction:m.thatReturnsTrue,focus:function(){if(!this._root.offsetParent)return false;h.addClass(this._anchor,'highlighted');h.addClass(this._root,'selected');this._root.setAttribute('aria-selected','true');if(j.isKeyDown())this._anchor.focus();},blur:function(){h.removeClass(this._anchor,'highlighted');h.removeClass(this._root,'selected');this._root.setAttribute('aria-selected','false');},handleClick:function(){if(typeof this._onclickHandler==='function')return this._onclickHandler();return !!((this._data.rel&&this._data.rel!=='ignore')||this._data.href);},setOnClickHandler:function(o){this._onclickHandler=o;},_renderItemContent:function(){this._anchor=i.create('a',{className:'itemAnchor'},i.create('span',{className:'itemLabel'},this._data.markup||this._data.label));if(this._data.icon){i.prependContent(this._anchor,this._data.icon);h.addClass(this._anchor,'hasIcon');}this._anchor.setAttribute('href',this._data.href||'#');if(this._data.rel){this._anchor.setAttribute('rel',this._data.rel);}else if(!this._data.href)this._anchor.setAttribute('rel','ignore');if(this._data.ajaxify)this._anchor.setAttribute('ajaxify',this._data.ajaxify);if(this._data.target)this._anchor.setAttribute('target',this._data.target);this._anchor.setAttribute('role','menuitem');this._anchor.setAttribute('title',this._data.title);return this._anchor;}});e.exports=n;});
__d("Toggler",["array-extensions","event-extensions","Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","Dialog","DOM","copyProperties","createArrayFrom","emptyFunction","ge","getObjectValues"],function(a,b,c,d,e,f){b('array-extensions');b('event-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('ContextualThing'),j=b('CSS'),k=b('DataStore'),l=b('Dialog'),m=b('DOM'),n=b('copyProperties'),o=b('createArrayFrom'),p=b('emptyFunction'),q=b('ge'),r=b('getObjectValues'),s=[],t;function u(){u=p;Event.listen(document.documentElement,'click',function(event){var y=event.getTarget();s.forEach(function(z){z.clickedTarget=y;z.active&&!z.sticky&&!i.containsIncludingLayers(z.getActive(),y)&&!z.inTargetFlyout(y)&&z.inActiveDialog()&&z.hide();});},Event.Priority.URGENT);}var v=function(){this.active=null;this.togglers={};this.setSticky(false);s.push(this);this.subscribe(['show','hide'],v.inform.bind(v));return u();};n(v.prototype,h,{show:function(y){var z=w(this,y),aa=z.active;if(y!==aa){aa&&z.hide();z.active=y;j.addClass(y,'openToggler');var ba=m.scry(y,'a[rel="toggle"]');if(ba.length>0&&ba[0].getAttribute('data-target'))j.removeClass(q(ba[0].getAttribute('data-target')),'toggleTargetClosed');m.appendContent(y,z.getToggler('next'));m.prependContent(y,z.getToggler('prev'));z.inform('show',z);}},hide:function(y){var z=w(this,y),aa=z.active;if(aa&&(!y||y===aa)){j.removeClass(aa,'openToggler');var ba=m.scry(aa,'a[rel="toggle"]');if(ba.length>0&&ba[0].getAttribute('data-target'))j.addClass(q(ba[0].getAttribute('data-target')),'toggleTargetClosed');r(z.togglers).forEach(m.remove);z.inform('hide',z);z.active=null;}},toggle:function(y){var z=w(this,y);if(z.active===y){z.hide();}else z.show(y);},getActive:function(){return w(this).active;},isShown:function(){return w(this).active&&j.hasClass(w(this).active,'openToggler');},inTargetFlyout:function(y){var z=x(this.getActive());return z&&i.containsIncludingLayers(z,y);},inActiveDialog:function(){var y=l.getCurrent();return !y||m.contains(y.getRoot(),this.getActive());},getToggler:function(y){var z=w(this);if(!z.togglers[y]){z.togglers[y]=m.create('button',{className:'hideToggler',onfocus:function(){var aa=m.scry(z.active,'a[rel="toggle"]')[0];aa&&aa.focus();z.hide();}});z.togglers[y].setAttribute('type','button');}return this.togglers[y];},setSticky:function(y){var z=w(this);y=y!==false;if(y!==z.sticky){z.sticky=y;if(y){z._pt&&z._pt.unsubscribe();}else z._pt=g.subscribe('pre_page_transition',z.hide.bind(z,null));}return z;}});n(v,v.prototype);n(v,{bootstrap:function(y){var z=y.parentNode;v.getInstance(z).toggle(z);},createInstance:function(y){var z=new v().setSticky(true);k.set(y,'toggler',z);return z;},getInstance:function(y){while(y){var z=k.get(y,'toggler');if(z)return z;if(j.hasClass(y,'uiToggleContext'))return v.createInstance(y);y=y.parentNode;}return (t=t||new v());},listen:function(y,z,aa){return v.subscribe(o(y),function(ba,ca){if(ca.getActive()===z)return aa(ba,ca);});},subscribe:(function(y){return function(z,aa){z=o(z);if(z.contains('show'))s.forEach(function(ba){if(ba.getActive())aa.curry('show',ba).defer();});return y(z,aa);};})(v.subscribe.bind(v))});function w(y,z){if(y instanceof v)return y;return v.getInstance(z);}function x(y){var z=m.scry(y,'a[rel="toggle"]');if(z.length>0&&z[0].getAttribute('data-target'))return q(z[0].getAttribute('data-target'));}e.exports=v;});
__d("Popover",["event-extensions","Arbiter","ArbiterMixin","ContextualLayer","ContextualLayerHideOnScroll","CSS","DataStore","DOM","Input","KeyStatus","LayerHideOnEscape","Toggler","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('ContextualLayer'),j=b('ContextualLayerHideOnScroll'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Input'),o=b('KeyStatus'),p=b('LayerHideOnEscape'),q=b('Toggler'),r=b('copyProperties');q.subscribe(['show','hide'],function(t,u){var v=l.get(u.getActive(),'Popover');if(v)if(t==='show'){v.showLayer();}else v.hideLayer();});function s(t,u,v,w){this._root=t;this._triggerElem=u;this._behaviors=v;this._config=w;if(!(u.nodeName==='A'&&u.rel==='toggle'))Event.listen(u,'click',function(){q.bootstrap(u);});u.setAttribute('role','button');l.set(t,'Popover',this);}r(s.prototype,h,{_layer:null,_closeListener:null,ensureInit:function(){if(!this._layer)this._init();},showLayer:function(){this.ensureInit();this._layer.show();q.show(this._root);k.addClass(this._root,'selected');this.inform('show');this._triggerElem.setAttribute('aria-expanded','true');},getLayer:function(){return this._layer;},hideLayer:function(){this._layer.hide();this._triggerElem.setAttribute('aria-expanded','false');},isShown:function(){return this._layer.isShown();},setLayerContent:function(t){this.ensureInit();this._layer.setContent(t);},_init:function(){var t=new i({context:this._triggerElem,position:'below'},m.create('div'));t.enableBehaviors([j,p]);q.createInstance(t.getRoot()).setSticky(false);t.subscribe('hide',this._onLayerHide.bind(this));this._behaviors&&t.enableBehaviors(this._behaviors);this._layer=t;if(this._config.alignh)this._layer.setAlignment(this._config.alignh);if(this._config.layer_content)this._layer.setContent(this._config.layer_content);this.inform('init',null,g.BEHAVIOR_PERSISTENT);},_onLayerHide:function(){q.hide(this._root);k.removeClass(this._root,'selected');this.inform('hide');if(o.isKeyDown())n.focus(this._triggerElem);}});e.exports=s;});
__d("PopoverMenu",["event-extensions","Arbiter","ArbiterMixin","ARIA","BehaviorsMixin","Class","Input","Keys","KeyStatus","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('ARIA'),j=b('BehaviorsMixin'),k=b('Class'),l=b('Input'),m=b('Keys'),n=b('KeyStatus'),o=b('copyProperties');function p(q,r,s,t){this._popover=q;this._triggerElem=r;this._initialMenu=s;q.subscribe('init',this._onLayerInit.bind(this));q.subscribe('show',this._onPopoverShow.bind(this));q.subscribe('hide',this._onPopoverHide.bind(this));t&&this.enableBehaviors(t);}o(p.prototype,h,j);o(p.prototype,{_popoverShown:false,setMenu:function(q){this._menu=q;var r=q.getRoot();this._popover.setLayerContent(r);q.subscribe('done',this._onMenuDone.bind(this));if(this._popoverShown)this._menu.onShow();i.owns(this._triggerElem,r);this.inform('setMenu',null,g.BEHAVIOR_PERSISTENT);},getPopover:function(){return this._popover;},getTriggerElem:function(){return this._triggerElem;},getMenu:function(){return this._menu;},_onLayerInit:function(){this.setMenu(this._initialMenu);this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));},_onPopoverShow:function(){if(this._menu){this._menu.onShow();if(n.isKeyDown())this._menu.focusAnItem();}this._popoverShown=true;},_onPopoverHide:function(){if(this._menu)this._menu.onHide();this._popoverShown=false;},_handleKeyEvent:function(q,r){var s=Event.getKeyCode(r);switch(s){case m.RETURN:return;case m.UP:case m.DOWN:this._menu.handleKeydown(s);break;default:if(this._menu.handleKeydown(s)===false){this._menu.blur();this._menu.handleKeydown(s);}break;}r.prevent();},_onMenuDone:function(q){this._popover.hideLayer.bind(this._popover).defer();if(n.isKeyDown())l.focus(this._triggerElem);}});e.exports=p;});
__d("ScrollAwareDOM",["ArbiterMixin","CSS","DOM","DOMDimensions","DOMPosition","DOMQuery","HTML","Vector","ViewportBounds","copyProperties","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('CSS'),i=b('DOM'),j=b('DOMDimensions'),k=b('DOMPosition'),l=b('DOMQuery'),m=b('HTML'),n=b('Vector'),o=b('ViewportBounds'),p=b('copyProperties'),q=b('isAsyncScrollQuery');function r(w,x){return function(){v.monitor(arguments[w],x.curry.apply(x,arguments));};}function s(w){if(!(w instanceof Array))w=[w];for(var x=0;x<w.length;x++){var y=m.replaceJSONWrapper(w[x]);if(y instanceof m){return y.getRootNode();}else if(i.isNode(y))return y;}return null;}function t(w){return k.getElementPosition(w).y>=o.getTop();}function u(w){var x=k.getElementPosition(w).y+j.getElementDimensions(w).height,y=j.getViewportDimensions().height-o.getBottom();return x>=y;}var v=p({monitor:function(w,x){if(q())return x();var y=s(w);if(y){var z=!!y.offsetParent;if(z&&(t(y)||u(y)))return x();var aa=n.getDocumentDimensions(),ba=x();if(z||(y.offsetParent&&!t(y))){var ca=n.getDocumentDimensions().sub(aa),da={delta:ca,target:y};if(v.inform('scroll',da)!==false)ca.scrollElementBy(l.getDocumentScrollElement());}return ba;}else return x();},replace:function(w,x){var y=s(x);if(!y||h.hasClass(y,'hidden_elem'))y=w;return v.monitor(y,function(){i.replace(w,x);});},prependContent:r(1,i.prependContent),insertAfter:r(1,i.insertAfter),insertBefore:r(1,i.insertBefore),setContent:r(0,i.setContent),appendContent:r(1,i.appendContent),remove:r(0,i.remove),empty:r(0,i.empty)},g);e.exports=v;});
__d("TabbableElements",["Style","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Style'),h=b('createArrayFrom');function i(l){if(l.tabIndex>0)return true;switch(l.tagName){case "A":return l.href&&l.rel!="ignore";case "INPUT":return l.type!="hidden"&&l.type!="file"&&!l.disabled;case "SELECT":return !l.disabled;case "TEXTAREA":return !l.disabled;}return false;}function j(l){if(l.offsetHeight===0&&l.offsetWidth===0)return true;while(l!==document&&g.get(l,'visibility')!='hidden')l=l.parentNode;return l===document;}var k={find:function(l){var m=h(l.getElementsByTagName("*"));return m.filter(k.isTabbable);},isTabbable:function(l){return i(l)&&j(l);}};e.exports=k;});
__d("TextInputControl",["event-extensions","function-extensions","Class","DOMControl","Input","copyProperties","debounce"],function(a,b,c,d,e,f){b('event-extensions');b('function-extensions');var g=b('Class'),h=b('DOMControl'),i=b('Input'),j=b('copyProperties'),k=b('debounce');function l(m){this.parent.construct(this,m);var n=this.getRoot(),o=k(this.update.bind(this),0);Event.listen(n,{input:o,keydown:o,paste:o});}g.extend(l,h);j(l.prototype,{setMaxLength:function(m){i.setMaxLength(this.getRoot(),m);return this;},getValue:function(){return i.getValue(this.getRoot());},isEmpty:function(){return i.isEmpty(this.getRoot());},setValue:function(m){i.setValue(this.getRoot(),m);this.update();return this;},clear:function(){return this.setValue('');},setPlaceholderText:function(m){i.setPlaceholder(this.getRoot(),m);return this;}});e.exports=l;});
__d("TextMetrics",["array-extensions","event-extensions","DOM","Style","UserAgent","debounce"],function(a,b,c,d,e,f){b('array-extensions');b('event-extensions');var g=b('DOM'),h=b('Style'),i=b('UserAgent'),j=b('debounce'),k;function l(){if(typeof k==='undefined'){var n=g.create('div',{className:'webkitZoomTest'}),o=function(){g.appendContent(document.body,n);k=100/n.clientHeight;g.remove(n);};Event.listen(window,'resize',j(o,100));o();}return k;}function m(n,o){this._node=n;this._flexible=!!o;var p='textarea',q='textMetrics';if(this._flexible){p='div';q+=' textMetricsInline';}this._shadow=g.create(p,{className:q});var r=['fontSize','fontStyle','fontWeight','fontFamily','wordWrap'];r.forEach(function(t){h.set(this._shadow,t,h.get(n,t));}.bind(this));var s=h.get(n,'lineHeight');if(i.chrome()||i.safari())s=Math.round(parseInt(s,10)*l())+'px';h.set(this._shadow,'lineHeight',s);document.body.appendChild(this._shadow);}m.prototype.measure=function(n){var o=this._node,p=this._shadow;n=(n||o.value)+'...';if(!this._flexible){var q=o.clientWidth-h.getFloat(o,'paddingLeft')-h.getFloat(o,'paddingRight');h.set(p,'width',Math.max(q,0)+'px');}g.setContent(p,n);return {width:p.scrollWidth,height:p.scrollHeight};};m.prototype.destroy=function(){g.remove(this._shadow);};e.exports=m;});
__d("TextAreaControl",["event-extensions","Arbiter","ArbiterMixin","Class","CSS","DOMControl","Style","TextInputControl","TextMetrics","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('Class'),j=b('CSS'),k=b('DOMControl'),l=b('Style'),m=b('TextInputControl'),n=b('TextMetrics'),o=b('copyProperties');function p(r,s){return l.getFloat(r,s)||0;}function q(r){this.autogrow=j.hasClass(r,'uiTextareaAutogrow');this.parent.construct(this,r);this.width=null;Event.listen(r,'focus',this._handleFocus.bind(this));}i.extend(q,m);o(q.prototype,h,{setAutogrow:function(r){this.autogrow=r;return this;},onupdate:function(){this.parent.onupdate();if(this.autogrow){var r=this.getRoot();if(!this.metrics)this.metrics=new n(r);if(typeof this.initialHeight==='undefined'){this.isBorderBox=l.get(r,'box-sizing')==='border-box'||l.get(r,'-moz-box-sizing')==='border-box'||l.get(r,'-webkit-box-sizing')==='border-box';this.borderBoxOffset=p(r,'padding-top')+p(r,'padding-bottom')+p(r,'border-top-width')+p(r,'border-bottom-width');this.initialHeight=r.offsetHeight-this.borderBoxOffset;}var s=this.metrics.measure(),t=Math.max(this.initialHeight,s.height);if(this.isBorderBox)t+=this.borderBoxOffset;if(t!==this.height){this.height=t;l.set(r,'height',t+'px');g.inform('reflow');this.inform('resize');}}else if(this.metrics){this.metrics.destroy();this.metrics=null;}},resetHeight:function(){this.height=-1;this.update();},_handleFocus:function(){this.width=null;}});q.getInstance=function(r){return k.getInstance(r)||new q(r);};e.exports=q;});
__d("Tooltip",["event-extensions","AsyncRequest","ContextualLayer","ContextualLayerAutoFlip","CSS","DataStore","DOM","Style","URI","copyProperties","emptyFunction","tx"],function(a,b,c,d,e,f){b('event-extensions');var g=b('AsyncRequest'),h=b('ContextualLayer'),i=b('ContextualLayerAutoFlip'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Style'),n=b('URI'),o=b('copyProperties'),p=b('emptyFunction'),q=b('tx'),r=null,s=null,t=null,u=[];function v(){if(!s){t=l.create('div',{className:'tooltipContent'});var ca=l.create('i',{className:'arrow'}),da=l.create('div',{className:'uiTooltipX'},[t,ca]);s=new h({},da);s.enableBehavior(i);}}function w(ca){return o({content:ca.getAttribute('aria-label'),position:ca.getAttribute('data-tooltip-position')||'above',alignH:ca.getAttribute('data-tooltip-alignh')||'left'},k.get(ca,'tooltip'));}function x(ca,da){var ea=w(ca);k.set(ca,'tooltip',{content:da.content||ea.content,position:da.position||ea.position,alignH:da.alignH||ea.alignH});ca.setAttribute('data-hover','tooltip');}function y(ca,da){ba.set(ca,"Carregando...");new g(da).setHandler(function(ea){ba.set(ca,ea.getPayload());}).setErrorHandler(p).send();}var z=/(\r\n|[\r\n])/;function aa(ca){return ca.split(z).map(function(da){return z.test(da)?l.create('br'):da;});}var ba={process:function(ca,da){if(!l.contains(ca,da))return;if(ca!==r){var ea=ca.getAttribute('data-tooltip-uri');if(ea){ca.removeAttribute('data-tooltip-uri');y(ca,ea);}ba.show(ca);}},remove:function(ca){k.remove(ca,'tooltip');ca.removeAttribute('data-hover');ca.removeAttribute('data-tooltip-position');ca.removeAttribute('data-tooltip-alignh');ca===r&&ba.hide();},hide:function(){if(r){s.hide();r=null;while(u.length)u.pop().remove();}},set:function(ca,da,ea,fa){if(ea||fa)x(ca,{position:ea,alignH:fa});if(da instanceof n){if(ca===r){y(ca,da);}else ca.setAttribute('data-tooltip-uri',da);}else{if(typeof da!=='string'){da=l.create('div',{},da);ca.setAttribute('aria-label',l.getText(da));}else ca.setAttribute('aria-label',da);x(ca,{content:da});ca===r&&ba.show(ca);}},show:function(ca){v();ba.hide();var da=w(ca);if(!da.content)return;var ea=0,fa=0;if(da.position==='left'||da.position==='right'){fa=(ca.offsetHeight-20)/2;}else if(da.alignH!=='center'){var ga=ca.offsetWidth;if(ga<18)ea=(ga-18)/2*(da.alignH==='right'?-1:1);}s.setContext(ca).setOffsetX(ea).setOffsetY(fa).setPosition(da.position).setAlignment(da.alignH);if(typeof da.content==='string'){j.addClass(s,'invisible_elem');var ha=l.create('span',{},aa(da.content)),ia=l.create('div',{className:'tooltipText'},ha);l.setContent(t,ia);s.show();var ja;if(ia.getClientRects){var ka=ia.getClientRects()[0];if(ka)ja=Math.round(ka.right-ka.left);}if(!ja)ja=ia.offsetWidth;if(ja<ha.offsetWidth){j.addClass(ia,'tooltipWrap');s.updatePosition();}j.removeClass(s,'invisible_elem');}else{l.setContent(t,da.content);s.show();}var la=function(na){if(!l.contains(r,na.getTarget()))ba.hide();};u.push(Event.listen(document.documentElement,'mouseover',la),Event.listen(document.documentElement,'focusin',la));var ma=m.getScrollParent(ca);if(ma!==window)u.push(Event.listen(ma,'scroll',ba.hide));u.push(Event.listen(ca,'click',ba.hide));r=ca;}};Event.listen(window,'scroll',ba.hide);e.exports=ba;});
__d("Typeahead",["array-extensions","event-extensions","ArbiterMixin","BehaviorsMixin","DataStore","DOM","Parent","Run","copyProperties","emptyFunction","ge"],function(a,b,c,d,e,f){b('array-extensions');b('event-extensions');var g=b('ArbiterMixin'),h=b('BehaviorsMixin'),i=b('DataStore'),j=b('DOM'),k=b('Parent'),l=b('Run'),m=b('copyProperties'),n=b('emptyFunction'),o=b('ge');function p(q,r,s,t){this.args={data:q,view:r,core:s};i.set(t,'Typeahead',this);this.element=t;}p.getInstance=function(q){var r=k.byClass(q,'uiTypeahead');return r?i.get(r,'Typeahead'):null;};m(p.prototype,g,h,{init:function(q){this.init=n;this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(q||[]);this.inform('init',this);this.data.bootstrap();this.core.focus();},getData:function(){if(!this.data){var q=this.args.data;this.data=q;this.data.init();}return this.data;},getView:function(){if(!this.view){var q=this.args.view,r=q.node||o(q.node_id);if(!r){r=j.create('div',{className:'uiTypeaheadView'});j.appendContent(this.element,r);}if(typeof q.ctor==='string'){this.view=new window[q.ctor](r,q.options||{});}else this.view=new q.ctor(r,q.options||{});this.view.init();this.view.setTypeahead(this.element);}return this.view;},getCore:function(){if(!this.core){var q=this.args.core;if(typeof q.ctor==='string'){this.core=new window[q.ctor](q.options||{});}else this.core=new q.ctor(q.options||{});this.core.init(this.getData(),this.getView(),this.getElement());}return this.core;},getElement:function(){return this.element;},swapData:function(q){var r=this.core;this.data=this.args.data=q;q.init();if(r){r.data=q;r.initData();r.reset();}q.bootstrap();return q;},proxyEvents:function(){[this.data,this.view,this.core].forEach(function(q){q.subscribe(q.events,this.inform.bind(this));},this);},initBehaviors:function(q){q.forEach(function(r){if(typeof r==='string'){if(a.TypeaheadBehaviors&&a.TypeaheadBehaviors[r]){a.TypeaheadBehaviors[r](this);}else l.onLoad(function(){if(a.TypeaheadBehaviors)(a.TypeaheadBehaviors[r]||n)(this);}.bind(this));}else this.enableBehavior(r);},this);}});p.initNow=function(q,r,s){if(s)s.init(q);q.init(r);};p.init=function(q,r,s,t){if(!j.isNodeOfType(q,['input','textarea']))q=j.scry(q,'input')[0]||j.scry(q,'textarea')[0];var u=false;try{u=document.activeElement===q;}catch(v){}if(u){p.initNow(r,s,t);}else var w=Event.listen(q,'focus',function(){p.initNow(r,s,t);w.remove();});};e.exports=p;});
__d("TypeaheadCore",["event-extensions","Arbiter","ArbiterMixin","CSS","DOM","Input","InputSelection","Keys","UserAgent","bind","copyProperties","emptyFunction"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('CSS'),j=b('DOM'),k=b('Input'),l=b('InputSelection'),m=b('Keys'),n=b('UserAgent'),o=b('bind'),p=b('copyProperties'),q=b('emptyFunction');function r(s){p(this,s);}p(r.prototype,h,{events:['blur','focus','click','unselect','loading'],keepFocused:true,resetOnSelect:false,resetOnKeyup:true,setValueOnSelect:false,queryTimeout:250,preventFocusChangeOnTab:false,init:function(s,t,u){this.init=q;this.data=s;this.view=t;this.root=u;this.initInput();this.inputWrap=j.find(u,'div.wrap');this.hiddenInput=j.find(u,'input.hiddenInput');this.value='';this.nextQuery=null;this.selectedText=null;if(this.setValueOnSelect&&i.hasClass(this.inputWrap,'selected'))this.selectedText=this.getValue();this.initView();this.initData();this.initEvents();this.initToggle();this._exclusions=[];},initInput:function(){this.element=j.find(this.root,'.textInput');var s=j.scry(this.element,'input')[0];if(s)this.element=s;},initView:function(){this.view.subscribe('highlight',function(s,t){this.element.focus();this.element.setAttribute('aria-activedescendant',(t.index!==-1)?j.getID(t.element):'');}.bind(this));this.view.subscribe('select',function(s,t){this.select(t.selected);}.bind(this));this.view.subscribe('afterSelect',function(){this.afterSelect();}.bind(this));},initData:function(){this.data.subscribe('respond',function(s,t){if(t.forceDisplay||t.value==this.getValue()&&!this.element.disabled)this.view.render(t.value,t.results,t.isAsync);}.bind(this));this.data.subscribe('activity',function(s,t){this.fetching=t.activity;if(!this.fetching)this.nextQuery&&this.performQuery();if(this.loading!=this.fetching){this.loading=this.fetching;this.inform('loading',{loading:this.loading});}}.bind(this));},initEvents:function(){Event.listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var s={blur:o(this,'blur'),focus:o(this,'focus'),click:o(this,'click'),keyup:o(this,'keyup'),keydown:o(this,'keydown')};if(n.firefox())s.text=s.keyup;if(n.firefox()<4){s.keypress=s.keydown;delete s.keydown;}Event.listen(this.element,s);Event.listen(this.element,'keypress',o(this,'keypress'));},initToggle:function(){this.subscribe('blur',this.view.hide.bind(this.view));this.subscribe('focus',this.view.show.bind(this.view));},viewMousedown:function(){this.selecting=true;},viewMouseup:function(){this.selecting=false;},blur:function(){if(this.selecting){this.selecting=false;return;}this.inform('blur');},click:function(){var s=l.get(this.element);if(s.start==s.end)this.element.select();this.inform('click');},focus:function(){this.checkValue();this.inform('focus');},keyup:function(){if(this.resetOnKeyup&&!this.getValue())this.view.reset();this.checkValue();},keydown:function(event){if(!this.view.isVisible()||this.view.isEmpty()){this.checkValue.bind(this).defer();return;}switch(Event.getKeyCode(event)){case m.TAB:this.handleTab(event);return;case m.UP:this.view.prev();break;case m.DOWN:this.view.next();break;case m.ESC:this.view.reset();break;default:this.checkValue.bind(this).defer();return;}event.kill();},keypress:function(event){if(this.view.getSelection()&&Event.getKeyCode(event)==m.RETURN){this.view.select();event.kill();}},handleTab:function(event){if(this.preventFocusChangeOnTab)if(this.view.getSelection()){event.kill();}else event.prevent();this.view.select();},select:function(s){if(s&&this.setValueOnSelect){this.setValue(s.text);this.setHiddenValue(s.uid);this.selectedText=s.text;i.addClass(this.inputWrap,'selected');}},afterSelect:function(){this.keepFocused?this.element.focus():this.element.blur();this.resetOnSelect?this.reset():this.view.reset();},unselect:function(){if(this.setValueOnSelect){this.selectedText=null;i.removeClass(this.inputWrap,'selected');}this.setHiddenValue();this.inform('unselect',this);},setEnabled:function(s){var t=s===false;this.element.disabled=t;i.conditionClass(this.root,'uiTypeaheadDisabled',t);},reset:function(){this.unselect();this.setValue();!this.keepFocused&&k.reset(this.element);this.view.reset();this.inform('reset');},getElement:function(){return this.element;},setExclusions:function(s){this._exclusions=s;},getExclusions:function(){return this._exclusions;},setValue:function(s){this.value=this.nextQuery=s||'';k.setValue(this.element,this.value);},setHiddenValue:function(s){this.hiddenInput.value=(s||s===0)?s:'';g.inform('Form/change',{node:this.hiddenInput});},getValue:function(){return k.getValue(this.element);},getHiddenValue:function(){return this.hiddenInput.value||'';},checkValue:function(){var s=this.getValue();if(s==this.value)return;if(this.selectedText&&this.selectedText!=s)this.unselect();var t=Date.now(),u=t-this.time;this.time=t;this.value=this.nextQuery=s;this.performQuery(u);},performQuery:function(s){if(this.selectedText)return;s=s||0;if(this.fetching&&s<this.queryTimeout){this.data.query(this.nextQuery,true,this._exclusions,s);}else{this.data.query(this.nextQuery,false,this._exclusions,s);this.nextQuery=null;}}});e.exports=r;});
__d("URLScraper",["event-extensions","ArbiterMixin","Class","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('ArbiterMixin'),h=b('Class'),i=b('copyProperties');function j(ga){this.input=ga;this.enable();}i(j.prototype,g,{reset:function(){this.lastPermissiveMatch=null;},enable:function(){if(this.events)return;var ga=function(ha){setTimeout(this.check.bind(this,ha),30);};this.events=Event.listen(this.input,{paste:ga.bind(this,false),keydown:ga.bind(this,true)});},disable:function(){if(!this.events)return;for(var event in this.events)this.events[event].remove();this.events=null;},check:function(ga){var ha=this.input.value;if(ga&&j.trigger(ha))return;var ia=j.match(ha),ja=j.permissiveMatch(ha);if(ja&&(ja!=this.lastPermissiveMatch)){this.lastPermissiveMatch=ja;this.inform('match',{url:ia,alt_url:ja});}}});var k='!"#%&\'()*,-./:;<>?@[\\]^_`{|}',l='\u2000-\u206F\u00ab\u00bb',m='(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])',n='(?:(?:ht|f)tps?)://',o='(?:(?:'+m+'[.]){3}'+m+')',p='(?:\\b)www\\d{0,3}[.]',q='[^\\s'+k+l+']',r='(?:(?:[.:\\-_%@]|'+q+')*'+q+')',s='(?:[.][a-z]{2,4})',t='(?::\\d+){0,1}',u='(?=[\/?#])',v='(?:'+'(?:'+n+r+t+')|'+'(?:'+o+t+')|'+'(?:'+p+r+s+t+')|'+'(?:'+r+s+t+u+')'+')',w='[\/#?]',x='\\([^\\s()<>]+\\)',y='[^\\s()<>?#]+',z='[^\\s'+k+l+']',aa='(?:'+'(?:'+w+')'+'(?:'+'(?:'+x+'|'+y+')*'+'(?:'+x+'|'+z+')'+')*'+')*',ba=new RegExp('('+'(?:'+v+')'+'(?:'+aa+')'+')','im'),ca='(?:'+'(?:'+w+')'+'(?:'+'(?:'+x+'|'+y+')*'+')*'+')*',da=new RegExp('('+'(?:'+v+')'+'(?:'+ca+')'+')','im'),ea=new RegExp('('+'(?:'+n+r+t+')|'+'(?:'+p+r+s+t+')'+')'),fa=/[\s'";]/;j.match=function(ga){return j.matchToPattern(ga,ba);};j.permissiveMatch=function(ga){return j.matchToPattern(ga,da);};j.matchToPattern=function(ga,ha){var ia=(ha.exec(ga)||[])[1]||null;if(ia&&ia.indexOf('@')!=-1){return (ea.exec(ia))?ia:null;}else return ia;};j.trigger=function(ga){return !fa.test(ga.charAt(ga.length-1));};e.exports=j;});
__d("Scrollable",["event-extensions","Parent","UserAgent"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Parent'),h=b('UserAgent'),i=function(event){var k=g.byClass(event.getTarget(),'scrollable');if(!k)return;if((typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS)||(event.wheelDeltaX&&!event.wheelDeltaY))return;var l=event.wheelDelta?event.wheelDelta:-event.detail,m=k.scrollHeight,n=k.clientHeight;if(m>n){var o=k.scrollTop;if((l>0&&o===0)||(l<0&&o>=m-n)){event.prevent();}else if(h.ie()<9)if(k.currentStyle){var p=k.currentStyle.fontSize;if(p.indexOf('px')<0){var q=document.createElement('div');q.style.fontSize=p;q.style.height='1em';p=q.style.pixelHeight;}else p=parseInt(p,10);k.scrollTop=o-Math.round(l/120*p);event.prevent();}}},j=document.documentElement;if(h.firefox()){j.addEventListener('DOMMouseScroll',i,false);}else Event.listen(j,'mousewheel',i);});
__d("AccessibleLayer",["event-extensions","CSS","DOM","Input","TabbableElements","copyProperties","csx","tx"],function(a,b,c,d,e,f){b('event-extensions');var g=b('CSS'),h=b('DOM'),i=b('Input'),j=b('TabbableElements'),k=b('copyProperties'),l=b('csx'),m=b('tx');function n(o){this._layer=o;}k(n.prototype,{enable:function(){this._afterShowSubscription=this._layer.subscribe('aftershow',this._onAfterShow.bind(this));},disable:function(){this._listener&&this._listener.remove();this._afterShowSubscription.unsubscribe();this._listener=this._afterShowSubscription=null;},_closeListener:function(event){var o=this._layer.getCausalElement();if(o){if(o.tabIndex==-1){o.tabIndex=0;g.addClass(o,"_h0");}i.focus(o);}this._layer.hide();},_onAfterShow:function(){var o=this._layer.getContentRoot(),p=h.create('a',{className:'accessible_elem',href:'#'},["Fechar pop-up e voltar"]);h.appendContent(o,p);this._listener=Event.listen(p,'click',this._closeListener.bind(this));}});e.exports=n;});
__d("ContextualLayerUpdateOnScroll",["event-extensions","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscriptions:[],enable:function(){this._subscriptions=[this._layer.subscribe('show',this._attachScrollListener.bind(this)),this._layer.subscribe('hide',this._removeScrollListener.bind(this))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();},_attachScrollListener:function(){if(this._listener)return;var i=this._layer.getContextScrollParent();this._listener=Event.listen(i,'scroll',this._layer.updatePosition.bind(this._layer));},_removeScrollListener:function(){this._listener&&this._listener.remove();this._listener=null;}});e.exports=h;});
__d("LayerAutoFocus",["function-extensions","CSS","DOMQuery","Input","TabbableElements","copyProperties","cx"],function(a,b,c,d,e,f){b('function-extensions');var g=b('CSS'),h=b('DOMQuery'),i=b('Input'),j=b('TabbableElements'),k=b('copyProperties'),l=b('cx');function m(n){this._layer=n;}k(m.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('aftershow',this._focus.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_focus:function(){var n=this._layer.getRoot(),o=h.scry(n,'.autofocus')[0];if(!o){var p=document.activeElement;if(h.isNodeOfType(p,['input','textarea']))return;var q=j.find(n);for(var r=0;r<q.length;r++)if(q[r].tagName!='A'){o=q[r];break;}}if(o){i.focus(o);}else{n.tabIndex=0;g.addClass(n,"_h0");n.focus();}}});e.exports=m;});
__d("LayerButtons",["event-extensions","Parent","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Parent'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_listener:null,enable:function(){this._listener=Event.listen(this._layer.getRoot(),'click',this._handle.bind(this));},disable:function(){this._listener.remove();this._listener=null;},_handle:function(j){var k=j.getTarget(),l=g.byClass(k,'layerConfirm');if(l){if(this._layer.inform('confirm',l)===false)j.prevent();return;}var m=g.byClass(k,'layerCancel');if(m){if(this._layer.inform('cancel',m)!==false)this._layer.hide();j.prevent();return;}var n=g.byClass(k,'layerButton');if(n)if(this._layer.inform('button',n)===false)j.prevent();}});e.exports=i;});
__d("LayerFadeOnHide",["Animation","Layer","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Layer'),i=b('Style'),j=b('UserAgent'),k=b('copyProperties');function l(m){this._layer=m;}k(l.prototype,{_subscription:null,enable:function(){if(j.ie()<9)return;this._subscription=this._layer.subscribe('starthide',this._handleStartHide.bind(this));},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}},_handleStartHide:function(){var m=true,n=h.subscribe('show',function(){n.unsubscribe();m=false;});(function(){n.unsubscribe();n=null;if(m){this._animate();}else this._layer.finishHide();}).bind(this).defer();return false;},_animate:function(){new g(this._layer.getRoot()).from('opacity',1).to('opacity',0).duration(150).ondone(this._finish.bind(this)).go();},_finish:function(){i.set(this._layer.getRoot(),'opacity','');this._layer.finishHide();}});e.exports=l;});
__d("LayerFadeOnShow",["Animation","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Style'),i=b('UserAgent'),j=b('copyProperties');function k(l){this._layer=l;}j(k.prototype,{_subscriptions:null,enable:function(){if(i.ie()<9)return;this._subscriptions=[this._layer.subscribe('beforeshow',function(){h.set(this._layer.getRoot(),'opacity',0);}.bind(this)),this._layer.subscribe('show',this._animate.bind(this))];},disable:function(){if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;}},_animate:function(){var l=this._layer.getRoot();new g(l).from('opacity',0).to('opacity',1).duration(100).ondone(h.set.curry(l,'opacity','')).go();}});e.exports=k;});
__d("LayerFormHooks",["event-extensions","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscriptions:null,enable:function(){var i=this._layer.getRoot();this._subscriptions=[Event.listen(i,'submit',this._onSubmit.bind(this)),Event.listen(i,'success',this._onSuccess.bind(this)),Event.listen(i,'error',this._onError.bind(this))];},disable:function(){this._subscriptions.forEach(function(i){i.remove();});this._subscriptions=null;},_onSubmit:function(event){if(this._layer.inform('submit',event)===false)event.kill();},_onSuccess:function(event){if(this._layer.inform('success',event)===false)event.kill();},_onError:function(event){var i=event.getData();if(this._layer.inform('error',{response:i.response})===false)event.kill();}});e.exports=h;});
__d("LayerHideOnBlur",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscriptions:null,_onBlur:null,enable:function(){this._subscriptions=[this._layer.subscribe('show',this._attach.bind(this)),this._layer.subscribe('hide',this._detach.bind(this))];if(this._layer.isShown())this._attach();},disable:function(){this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;},_detach:function(){this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null;},_attach:function(){this._onBlur=this._layer.subscribe('blur',this._layer.hide.shield(this._layer));}});e.exports=h;});
__d("LayerMouseHooks",["event-extensions","function-extensions","DOM","Layer","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');b('function-extensions');var g=b('DOM'),h=b('Layer'),i=b('copyProperties');function j(k){this._layer=k;this._spawn=[];}i(j.prototype,{_mouseSubscriptions:[],_layerSubscriptions:[],_layerHideTimeout:null,enable:function(){var k=this._layer.getRoot();this._mouseSubscriptions=[Event.listen(k,'mouseenter',this._onMouseEnter.bind(this)),Event.listen(k,'mouseleave',this._onMouseLeave.bind(this))];this._layerSubscriptions=[h.subscribe('show',this._onLayerShow.bind(this)),h.subscribe('hide',this._onLayerHide.bind(this))];},disable:function(){while(this._mouseSubscriptions.length)this._mouseSubscriptions.pop().remove();while(this._layerSubscriptions.length)this._layerSubscriptions.pop().unsubscribe();this._spawn=[];},_onMouseEnter:function(k){this._fireMouseLeaveOnLayerHide=false;if(this._layerHideTimeout){clearTimeout(this._layerHideTimeout);this._layerHideTimeout=null;}else if(!this._spawn.length)this._layer.inform('mouseenter');},_onMouseLeave:function(k){if(!this._spawn.length)this._layer.inform('mouseleave');this._fireMouseLeaveOnLayerHide=!!this._spawn.length;this._layerHideTimeout=null;},_onLayerShow:function(k,l){var m=l.getContext&&l.getContext();if(m)if(g.contains(this._layer.getRoot(),m))this._spawn.push(l);},_onLayerHide:function(k,l){var m=this._spawn.indexOf(l);if(m==-1)return;this._spawn.splice(m,1);if(!this._spawn.length&&this._fireMouseLeaveOnLayerHide)this._layerHideTimeout=this._onMouseLeave.bind(this).defer(100);}});e.exports=j;});
__d("LayerTabIsolation",["event-extensions","copyProperties","TabbableElements","Keys","Input"],function(a,b,c,d,e,f){b('event-extensions');var g=b('copyProperties'),h=b('TabbableElements'),i=b('Keys'),j=b('Input');function k(l){this._layer=l;}g(k.prototype,{_tabHandler:null,_subscriptions:[],enable:function(){this._subscriptions=[this._layer.subscribe('show',this._attachHandler.bind(this)),this._layer.subscribe('hide',this._detachHandler.bind(this))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._detachHandler();},_attachHandler:function(){var l=this._layer.getRoot();this._tabHandler=Event.listen(l,'keydown',function(m){if(Event.getKeyCode(m)==i.TAB){var n=m.getTarget();if(n){var o=h.find(l),p=o[0],q=o[o.length-1],r=m.getModifiers().shift;if(r&&n==p){m.preventDefault();j.focus(q);}else if(!r&&n==q){m.preventDefault();j.focus(p);}}}});},_detachHandler:function(){if(this._tabHandler){this._tabHandler.remove();this._tabHandler=null;}}});e.exports=k;});
__d("ModalLayer",["event-extensions","function-extensions","Arbiter","CSS","DataStore","DOM","DOMDimensions","DOMQuery","ScrollAwareDOM","Style","URI","UserAgent","Vector","copyProperties","csx","cx","isAsyncScrollQuery","debounceAcrossTransitions"],function(a,b,c,d,e,f){b('event-extensions');b('function-extensions');var g=b('Arbiter'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('DOMDimensions'),l=b('DOMQuery'),m=b('ScrollAwareDOM'),n=b('Style'),o=b('URI'),p=b('UserAgent'),q=b('Vector'),r=b('copyProperties'),s=b('csx'),t=b('cx'),u=b('isAsyncScrollQuery'),v=b('debounceAcrossTransitions'),w=[],x=null,y=null,z=null;function aa(){if(!z)z=l.scry(document.body,"._li")[0];return z;}function ba(ha){var ia={position:q.getScrollPosition()},ja=ha.offsetTop-ia.position.y;h.addClass(ha,"_31e");n.set(ha,'top',ja+'px');g.inform('reflow');ia.listener=m.subscribe('scroll',function(ka,la){if(l.contains(ha,la.target)){var ma=ha.offsetTop-la.delta.y;n.set(ha,'top',ma+'px');ia.position=ia.position.add(la.delta);return false;}});i.set(ha,'ModalLayerData',ia);if(p.firefox()<13)ca.curry(ha).defer();}function ca(ha){l.scry(ha,'div.swfObject').forEach(function(ia){var ja=ia.getAttribute('data-swfid');if(ja&&window[ja]){var ka=window[ja];ka.addParam('autostart','false');ka.addParam('autoplay','false');ka.addParam('play','false');ka.addVariable('video_autoplay','0');ka.addVariable('autoplay','0');ka.addVariable('play','0');var la=o(ka.getAttribute('swf'));la.addQueryData({autoplay:'0'});la.setPath(la.getPath().replace('autoplay=1','autoplay=0'));ka.setAttribute('swf',la.toString());ka.write(ia);}});}function da(ha,ia){var ja=i.get(ha,'ModalLayerData');if(ja){var ka=function(){h.removeClass(ha,"_31e");n.set(ha,'top','');if(ia){var na=l.getDocumentScrollElement();na.scrollTop=ja.position.y;}g.inform('reflow');ja.listener.unsubscribe();ja.listener=null;i.remove(ha,'ModalLayerData');};if(ia&&u()){var la=j.create('div',{className:"_42w"});n.set(la,'height',ha.offsetHeight+'px');j.appendContent(document.body,la);var ma=l.getDocumentScrollElement();ma.scrollTop=ja.position.y;ia=false;!function(){ka();j.remove(la);}.defer();}else ka();}if(p.ie()<7)n.set(ha,'height','');}function ea(){var ha;if(p.ie()<7){var ia=w[w.length-1].getLayerRoot(),ja=Math.max(ia.offsetHeight,ia.scrollHeight);ha=function(pa){n.set(pa,'height',(-pa.offsetTop+ja)+'px');};}var ka=w.length;while(ka--){var la=w[ka],ma=la.getLayerRoot();fa(ma,'');var na=la.getLayerContentRoot(),oa=na.offsetWidth+k.measureElementBox(na,'width',0,0,1);fa(ma,oa);if(ha&&ka<w.length-1)ha(ma);}ha&&ha(aa());}function fa(ha,ia){var ja=p.ie()<7;if(ja&&ia&&ia<=document.body.clientWidth)ia='';n.set(ha,ja?'width':'min-width',ia+(ia?'px':''));}function ga(ha){this._layer=ha;}r(ga.prototype,{_subscription:null,enable:function(){if(!aa())return;this._subscription=this._layer.subscribe(['show','hide'],function(ha){ha=='show'?this._addModal():this._removeModal();}.bind(this));if(this._layer.isShown())this._addModal();},disable:function(){if(!aa())return;this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._removeModal();},_addModal:function(){h.addClass(this.getLayerRoot(),"_3qw");var ha=w[w.length-1],ia=ha?ha.getLayerRoot():aa();ba(ia);var ja=l.getDocumentScrollElement();ja.scrollTop=0;if(!w.length){if(p.ie()<7)h.addClass(document.documentElement,"_31d");var ka=v(ea,100);x=Event.listen(window,'resize',ka);y=g.subscribe('reflow',ka);}w.push(this);ea.defer();},_removeModal:function(){var ha=this.getLayerRoot();h.removeClass(ha,"_3qw");fa(ha,'');var ia=this===w[w.length-1];w.remove(this);var ja=w[w.length-1];if(!ja){x.remove();x=null;y.unsubscribe();y=null;}var ka=ja?ja.getLayerRoot():aa();!function(){da(ka,ia);if(w.length){ea.defer();}else if(p.ie()<7)h.removeClass(document.documentElement,"_31d");}.defer(200,false);},getLayerRoot:function(){return this._layer.getRoot();},getLayerContentRoot:function(){return this._layer.getContentRoot();}});e.exports=ga;});
__d("ContextualDialogArrow",["JSXDOM","CSS","DOM","Locale","Style","Vector","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('JSXDOM'),h=b('CSS'),i=b('DOM'),j=b('Locale'),k=b('Style'),l=b('Vector'),m=b('copyProperties'),n=b('cx'),o=15,p=16,q={bottom:"_k8",top:"_k9",right:"_ka",left:"_kb"},r={above:'bottom',below:'top',left:'right',right:'left'};function s(t){this._layer=t;}m(s.prototype,{_subscription:null,_arrow:null,enable:function(){this._subscription=this._layer.subscribe(['adjust','reposition'],this._handle.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_handle:function(t,u){if(t==='adjust'){this._repositionArrow(u);}else this._repositionRoot(u);},_repositionRoot:function(t){var u=this._layer.getRoot();if(!t.isVertical()){var v=parseInt(k.get(u,'top'),10);v-=o;k.set(u,'top',v+'px');}},_repositionArrow:function(t){var u=this._layer._contentWrapper,v=t.getPosition(),w=r[v];for(var x in q)h.conditionClass(u,q[x],w===x);if(v=='none')return;if(!this._arrow){this._arrow=g.i({className:"_kd"});i.appendContent(u,this._arrow);}h.conditionClass(u,"_kc",this._layer.getFooter());k.set(this._arrow,'top','');k.set(this._arrow,'left','');k.set(this._arrow,'right','');k.set(this._arrow,'margin','');var y=s.getOffsetPercent(t),z=s.getOffset(t,y,this._layer.getContext()),aa=s.getOffsetSide(t);k.set(this._arrow,aa,y+'%');k.set(this._arrow,'margin-'+aa,z+'px');}});m(s,{getOffsetPercent:function(t){var u=t.getAlignment(),v=t.getPosition();if(v=='above'||v=='below')if(u=='center'){return 50;}else if(u=='right')return 100;return 0;},getOffsetSide:function(t){var u=t.isVertical();return u?(j.isRTL()?'right':'left'):'top';},getOffset:function(t,u,v){var w=t.getAlignment(),x=0;if(w!='center'){x=o;if(t.isVertical()){var y=l.getElementDimensions(v).x;if(y<p+(o*2))x=Math.max((y/2)-(p/2),0);}}x+=p*u/100;if(w!='left')x*=-1;return x;}});s.OFFSET=o;s.LENGTH=p;e.exports=s;});
__d("ContextualDialogFitInViewport",["event-extensions","ContextualDialogArrow","ContextualLayerDimensions","Style","Vector","copyProperties","throttle"],function(a,b,c,d,e,f){b('event-extensions');var g=b('ContextualDialogArrow'),h=b('ContextualLayerDimensions'),i=b('Style'),j=b('Vector'),k=b('copyProperties'),l=b('throttle'),m=g.OFFSET,n=g.LENGTH,o=m+n;function p(q){this._layer=q;this._listeners=[];}k(p.prototype,{_subscription:null,_minimumTop:null,enable:function(){this._subscription=this._layer.subscribe(['show','hide','reposition'],function(q,r){if(q=='reposition'){this._calculateMinimumTop(r);}else if(q=='show'){this._attachScroll();this._adjustForScroll();}else this._detachScroll();}.bind(this));if(this._layer.isShown())this._attachScroll();},disable:function(){if(this._layer.isShown())this._detachScroll();this._subscription.unsubscribe();this._subscription=null;},_attachScroll:function(){var q=l(this._adjustForScroll.bind(this)),r=this._layer.getContextScrollParent()||window;this._listeners=[Event.listen(r,'scroll',q),Event.listen(window,'resize',q)];},_detachScroll:function(){while(this._listeners.length)this._listeners.pop().remove();this._listeners=[];},_getContentHeight:function(){return j.getElementDimensions(this._layer._contentWrapper).y;},_getContextY:function(){return j.getElementPosition(this._layer.getContext()).y;},_calculateMinimumTop:function(q){if(q.isVertical())return;this._minimumTop=(this._getContextY()-(this._getContentHeight()-o)+q.getOffsetY());},_adjustForScroll:function(){var q=this._layer._getOrientation();if(q.isVertical())return;var r=h.getViewportRect(this._layer),s=r.b-this._minimumTop;if(s<0)return;var t=this._getContentHeight(),u=t-(o+m),v=Math.max(0,Math.min(u,u-(s-t)));i.set(this._layer.getContent(),'top',-v+'px');}});e.exports=p;});
__d("ContextualDialog",["AccessibleLayer","Class","ContextualDialogFitInViewport","ContextualLayer","CSS","DOM","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerMouseHooks","Style","copyProperties","csx","cx"],function(a,b,c,d,e,f){var g=b('AccessibleLayer'),h=b('Class'),i=b('ContextualDialogFitInViewport'),j=b('ContextualLayer'),k=b('CSS'),l=b('DOM'),m=b('LayerAutoFocus'),n=b('LayerButtons'),o=b('LayerFormHooks'),p=b('LayerMouseHooks'),q=b('Style'),r=b('copyProperties'),s=b('csx'),t=b('cx');function u(v,w){this.parent.construct(this,v,w);}h.extend(u,j);r(u.prototype,{_footer:null,_configure:function(v,w){v.addedBehaviors=v.addedBehaviors||[];v.addedBehaviors.push(v.arrowBehavior);var x=l.scry(w,"div._k7");if(x.length)this._footer=x[0];this.parent._configure(v,w);},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([g,m,i,n,o,p]);},_buildWrapper:function(v,w){k.addClass(w,"_k5");var x=this.parent._buildWrapper(v,w);k.addClass(this._contentWrapper,"_k6");if(v.width)this.setWidth(v.width);return x;},setWidth:function(v){this._width=Math.floor(v);q.set(this._contentWrapper,'width',v+'px');return this;},getFooter:function(){return this._footer;}});r(u,{setContext:function(v,w){v.setContext(w);}});e.exports=u;});
__d("DialogX",["event-extensions","function-extensions","Arbiter","ArbiterMixin","Class","ContextualThing","DOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerTabIsolation","ModalLayer","Style","UserAgent","Vector","copyProperties","cx","debounce","getOverlayZIndex"],function(a,b,c,d,e,f){b('event-extensions');b('function-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('Class'),j=b('ContextualThing'),k=b('DOM'),l=b('Layer'),m=b('LayerAutoFocus'),n=b('LayerButtons'),o=b('LayerFormHooks'),p=b('LayerTabIsolation'),q=b('ModalLayer'),r=b('Style'),s=b('UserAgent'),t=b('Vector'),u=b('copyProperties'),v=b('cx'),w=b('debounce'),x=b('getOverlayZIndex'),y=40;function z(ba,ca){this.parent.construct(this,ba,ca);}i.extend(z,l);u(z,h);u(z.prototype,{_modal:false,_ie:null,_wrapper:null,_configure:function(ba,ca){this.parent._configure(ba,ca);if(ba.modal)this.enableModal();if(ba.autohide)var da=this.subscribe('show',function(){da.unsubscribe();this.hide.shield(this).defer(ba.autohide);}.bind(this));},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([aa,m,n,o,p]);},_buildWrapper:function(ba,ca){var da=k.create('div',{className:"_t"},ca),ea;this._ie=s.ie();if(this._ie>6&&this._ie<9){ea=[k.create('div',{className:"_u"}),k.create('div',{className:"_v"}),k.create('div',{className:"_w"}),k.create('div',{className:"_x"}),k.create('div',{className:"_y"}),k.create('div',{className:"_z"}),da];}else ea=k.create('div',{className:"_1yu"},da);this._wrapper=k.create('div',{className:"_1yv",role:'dialog'},ea);if(ba.titleID)this._wrapper.setAttribute('aria-labelledby',ba.titleID);this.setWidth(ba.width);return k.create('div',{className:"_10",role:'dialog'},this._wrapper);},enableModal:function(){this._modal=true;this.enableBehavior(q);return this;},getContentRoot:function(){return this._wrapper;},_setModalityBasedOnVerticalSpace:function(ba){if(!this._modal&&(!this._ie||this._ie<7))if(ba<=y){this.enableBehavior(q);}else this.disableBehavior(q);},reflowUpdate:function(){var ba=t.getViewportDimensions().y-t.getElementDimensions(this._wrapper).y-this._lastTopMargin;this._setModalityBasedOnVerticalSpace(ba);},updatePosition:function(){var ba=t.getViewportDimensions().y-t.getElementDimensions(this._wrapper).y,ca;if(ba<250){if(ba>80){ca=ba/2;}else ca=40;}else ca=125;this._lastTopMargin=ca;this._setModalityBasedOnVerticalSpace(ca);if(this._ie<7){var da=t.getScrollPosition().y;r.set(this._wrapper,'top',ca+da+'px');}else r.set(this._wrapper,'margin-top',ca+'px');if(this._causalElement){var ea=x(this._causalElement,this.getInsertParent()),fa=this._causalElement;while(!ea&&(fa=j.getContext(fa)))ea=x(fa,this.getInsertParent());r.set(this.getRoot(),'z-index',ea>200?ea:'');}},setWidth:function(ba){ba=Math.floor(ba);if(ba===this._width)return;this._width=ba;if(this._ie>6&&this._ie<9)ba-=20;r.set(this._wrapper,'width',ba+'px');}});function aa(ba){this._layer=ba;}u(aa.prototype,{_subscription:null,_resize:null,enable:function(){this._subscription=this._layer.subscribe(['show','hide'],function(ba){if(ba==='show'){this._attach();g.inform('layer_shown',{type:'DialogX'});}else{this._detach();g.inform('layer_hidden',{type:'DialogX'});}}.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach();},_attach:function(){this._layer.updatePosition();this._resize=Event.listen(window,'resize',w(this._layer.updatePosition.bind(this._layer)));this._reflow_listener=g.subscribe('reflow',this._layer.reflowUpdate.bind(this._layer));},_detach:function(){this._resize.remove();this._resize=null;this._reflow_listener.unsubscribe();this._reflow_listener=null;}});e.exports=z;});
__d("AsyncDialog",["AsyncRequest","Bootloader","CSS","DialogX","DOM","Env","Parent","URI","copyProperties","cx","emptyFunction","tx"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Bootloader'),i=b('CSS'),j=b('DialogX'),k=b('DOM'),l=b('Env'),m=b('Parent'),n=b('URI'),o=b('copyProperties'),p=b('cx'),q=b('emptyFunction'),r=b('tx'),s=new j({width:465},k.create('div',{className:"_r"},"Carregando...")),t=1,u=[],v=0;function w(){v--;if(!v)s.hide();}function x(z,aa){var ba=t++;u[ba]=aa;o(z.getData(),{__asyncDialog:ba});var ca=false;v++;s.setCausalElement(z.getRelativeTo()).show();function da(){if(!ca)w();}z.setInterceptHandler(function(ea){ca=true;w();});z.setFinallyHandler(function(ea){var fa=ea.getPayload();if(fa&&fa.asyncURL)y.send(new g(fa.asyncURL));da();});z.setAbortHandler(da);z.send();}var y={send:function(z,aa){x(z,aa||q);},bootstrap:function(z,aa,ba){if(!z)return;var ca=m.byClass(aa,'stat_elem')||aa;if(ca&&i.hasClass(ca,'async_saving'))return false;var da=new n(z).getQueryData(),ea=ba==='dialog',fa=new g().setURI(z).setData(da).setMethod(ea?'GET':'POST').setReadOnly(ea).setRelativeTo(aa).setStatusElement(ca).setNectarModuleDataSafe(aa);if(l.is_desktop){h.loadModules(['FbdDialogProvider'],function(ga){ga.sendDialog(fa,y.send);});return;}y.send(fa);},respond:function(z,aa){var ba=u[z];if(ba){ba(aa);delete u[z];}},getLoadingDialog:function(){return s;}};e.exports=y;});
__d("Hovercard",["JSXDOM","event-extensions","function-extensions","AccessibleLayer","Arbiter","AsyncRequest","AsyncSignal","ContextualDialog","ContextualDialogArrow","ContextualThing","CSS","DOM","DOMQuery","LayerAutoFocus","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","Parent","Rect","Style","URI","UserAgent","Vector","ViewportBounds","clickRefAction","cx","emptyFunction","tx","userAction"],function(a,b,c,d,e,f){var g=b('JSXDOM');b('event-extensions');b('function-extensions');var h=b('AccessibleLayer'),i=b('Arbiter'),j=b('AsyncRequest'),k=b('AsyncSignal'),l=b('ContextualDialog'),m=b('ContextualDialogArrow'),n=b('ContextualThing'),o=b('CSS'),p=b('DOM'),q=b('DOMQuery'),r=b('LayerAutoFocus'),s=b('LayerDestroyOnHide'),t=b('LayerFadeOnHide'),u=b('LayerFadeOnShow'),v=b('Parent'),w=b('Rect'),x=b('Style'),y=b('URI'),z=b('UserAgent'),aa=b('Vector'),ba=b('ViewportBounds'),ca=b('clickRefAction'),da=b('cx'),ea=b('emptyFunction'),fa=b('tx'),ga=b('userAction'),ha=450,ia=385,ja={},ka={},la=null,ma=null,na=null,oa=150,pa=700,qa=1000,ra=250,sa=null,ta=null,ua=null,va=null;function wa(event){var kb=v.byTag(event.getTarget(),'a');jb.processNode(kb)&&event.stop();}function xa(kb){ma=kb;if(!ya(kb)){var lb;if(!kb||!(lb=za(kb))){ka.moveToken&&ka.moveToken.remove();ka={};return false;}if(ka.node!=kb){ka.moveToken&&ka.moveToken.remove();ka={node:kb,endpoint:lb,pos:null};}}return true;}function ya(kb){return kb&&la&&ka.node==kb;}function za(kb){return kb.getAttribute('data-hovercard');}function ab(kb){var lb=Event.listen(kb,'mouseout',function(){clearTimeout(sa);clearTimeout(ta);lb.remove();ma=null;jb.hide();});if(!ka.moveToken)ka.moveToken=Event.listen(kb,'mousemove',function(event){ka.pos=aa.getEventPosition(event);});clearTimeout(sa);clearTimeout(ta);clearTimeout(va);var mb=oa,nb=la?ra:pa;if(kb.getAttribute('data-hovercard-instant'))mb=nb=50;sa=setTimeout(fb.curry(kb),mb);ta=setTimeout(bb.curry(kb),nb);}function bb(kb,lb){if(ka.node!=kb)return;var mb=ja[za(kb)];if(mb){db(mb);}else if(lb){db(hb());}else{var nb=la?ra:pa;ua=setTimeout(bb.curry(kb,true),qa-nb);}}function cb(){jb.hide(true);clearTimeout(ta);}function db(kb){var lb=ka.node,mb=la,nb=mb!=lb;if(na){var ob=na.getContentRoot();if(!n.containsIncludingLayers(ob,lb))na.hide();}if(!p.contains(document.body,lb)){jb.hide(true);return;}la=lb;na=kb;kb.setContextWithBounds(lb,eb(lb)).show();if(nb)(function(){new k('/ajax/hovercard/shown.php').send();ca('himp',la,null,'FORCE',{ft:{evt:39}});ga('hovercard',la).uai('show');}).defer();}function eb(kb){var lb=ka.pos,mb=kb.getClientRects();if(!lb||mb.length===0)return w.getElementBounds(kb);var nb,ob=false;for(var pb=0;pb<mb.length;pb++){var qb=new w(Math.round(mb[pb].top),Math.round(mb[pb].right),Math.round(mb[pb].bottom),Math.round(mb[pb].left),'viewport').convertTo('document'),rb=qb.getPositionVector(),sb=rb.add(qb.getDimensionVector());if(!nb||(rb.x<=nb.l&&rb.y>nb.t)){if(ob)break;nb=new w(rb.y,sb.x,sb.y,rb.x,'document');}else{nb.t=Math.min(nb.t,rb.y);nb.b=Math.max(nb.b,sb.y);nb.r=sb.x;}if(qb.contains(lb))ob=true;}return nb;}function fb(kb){if(kb.id&&ja[kb.id]!=null)return;var lb=za(kb);if(ja[lb]!=null)return;gb(lb);var mb=function(){jb.dirty(lb);cb();};new j(lb).setData({endpoint:lb}).setMethod('GET').setReadOnly(true).setErrorHandler(mb).setTransportErrorHandler(mb).send();}function gb(kb){ja[kb]=false;}var hb=function(){var kb=new l({width:275,arrowBehavior:m},g.div({className:"_7lk",children:"Carregando..."}));kb.disableBehavior(h).disableBehavior(r);ib(kb);hb=ea.thatReturns(kb);return kb;};function ib(kb){var lb=[kb.subscribe('mouseenter',function(){clearTimeout(va);ma=ka.node;}),kb.subscribe('mouseleave',function(){kb.hide();ma=null;}),kb.subscribe('destroy',function(){while(lb.length)lb.pop().unsubscribe();lb=null;})];}var jb={hide:function(kb){if(!la)return;if(kb){if(na)na.hide();ma=null;la=null;na=null;}else va=setTimeout(jb.hide.curry(true),ra);},setDialog:function(kb,lb){lb.disableBehavior(h).disableBehavior(r);ja[kb]=lb;ib(lb);if(ka.endpoint==kb&&ma==ka.node){hb().hide();db(lb);}},getDialog:function(kb){return ja[kb];},contains:function(kb){if(na)return n.containsIncludingLayers(na.getContentRoot(),kb);return false;},dirty:function(kb){var lb=ja[kb];if(lb){lb.destroy();delete ja[kb];}},dirtyAll:function(){for(var kb in ja){var lb=ja[kb];lb&&jb.dirty(kb);}i.inform('Hovercard/dirty');},processNode:function(kb){if(kb&&xa(kb)){ab(kb);return true;}return false;}};(function(){if(z.ie()<8)return;Event.listen(document.documentElement,'mouseover',wa);Event.listen(window,'scroll',function(){if(la&&x.isFixed(la))jb.hide(true);});i.subscribe('page_transition',function(){cb();jb.dirtyAll();},i.SUBSCRIBE_NEW);})();e.exports=jb;});
__d("StickyPlaceholderInput",["event-extensions","CSS","DOM","Input","Parent","emptyFunction"],function(a,b,c,d,e,f){b('event-extensions');var g=b('CSS'),h=b('DOM'),i=b('Input'),j=b('Parent'),k=b('emptyFunction');function l(p){return j.byClass(p,'uiStickyPlaceholderInput');}function m(p){return h.scry(p,'.placeholder')[0];}function n(p){p=p||window.event;var q=p.target||p.srcElement;if(h.isNodeOfType(q,['input','textarea'])){var r=l(q);if(r){var s=p.type;(function(){if((s==='keydown'||s==='paste')&&q.value.length)g.removeClass(r,'uiStickyPlaceholderEmptyInput');if((s==='blur'||s==='focusout')&&!q.value.length)g.addClass(r,'uiStickyPlaceholderEmptyInput');}).defer();}}}var o={init:function(){o.init=k;Event.listen(document.documentElement,{keydown:n,paste:n});if(document.documentElement.addEventListener){document.documentElement.addEventListener('blur',n,true);}else Event.listen(document.documentElement,'focusout',n);},registerInput:function(p){o.init();var q=p.getAttribute('placeholder')||'';if(q.length)if(document.activeElement===p){var r=Event.listen(p,'blur',function(){o.manipulateInput(p,q);r.remove();});}else o.manipulateInput(p,q);},manipulateInput:function(p,q){var r=h.create('div',{className:'placeholder','aria-hidden':'true'},q),s=h.create('div',{className:'uiStickyPlaceholderInput'},r);if(h.isNodeOfType(p,'textarea'))g.addClass(s,'uiStickyPlaceholderTextarea');Event.listen(r,'click',function(){p.focus();});if(p.value===q)p.value='';g.removeClass(p,'DOMControl_placeholder');p.setAttribute('placeholder','');h.replace(p,s);h.appendContent(s,p);g.conditionClass(s,'uiStickyPlaceholderEmptyInput',!p.value.length);},setPlaceholderText:function(p,q){var r=l(p);if(!r){i.setPlaceholder(p,q);}else{var s=m(r);s&&h.setContent(s,q);}},getPlaceholderText:function(p){var q=l(p),r=m(q);return r&&h.getText(r);},update:function(p){var q=l(p);if(q)g.conditionClass(q,'uiStickyPlaceholderEmptyInput',!p.value.length);},getVisibleText:function(p){var q=l(p);if(g.hasClass(q,'uiStickyPlaceholderEmptyInput')){var r=m(q);return r&&h.getText(r);}else return p.value;}};e.exports=o;});
__d("HoverFlyout",["event-extensions","Arbiter","ArbiterMixin","Class","DataStore","Keys","LayerDestroyOnHide","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('Class'),j=b('DataStore'),k=b('Keys'),l=b('LayerDestroyOnHide'),m=b('copyProperties');function n(o,p,q,r){if(o){this._showDelay=q;this._hideDelay=r;this.init(o);if(p)this.initNode(p);}g.subscribe('SwapButton/focusOnJoinButton',this.hideFlyout.shield(this),g.SUBSCRIBE_ALL);}m(n.prototype,h,{init:function(o){this._flyout=o;this._showDelay=this._showDelay||0;this._hideDelay=this._hideDelay||100;this._showTimeout=null;this._hideTimeout=null;this._flyoutSubscriptions=[this._flyout.subscribe('mouseenter',this._onFlyoutMouseEnter.bind(this)),this._flyout.subscribe('mouseleave',this.hideFlyout.shield(this))];this._nodes=[];this._dataStoreUnique='HoverFlyout_'+Date.now()+'_listeners';return this;},initNode:function(o){if(this._nodes.contains(o))return this;this._nodes.push(o);j.set(o,this._dataStoreUnique,[Event.listen(o,'mouseenter',this._onNodeMouseEnter.bind(this,o)),Event.listen(o,'mouseleave',this.hideFlyout.shield(this)),Event.listen(o,'click',this._onNodeMouseEnter.bind(this,o)),Event.listen(o,'keydown',this._onNodeKeyEscape.bind(this))]);return this;},deactivateNode:function(o){var p=j.get(o,this._dataStoreUnique);if(p)while(p.length)p.pop().remove();this._nodes.remove(o);},setShowDelay:function(o){this._showDelay=o;return this;},setHideDelay:function(o){this._hideDelay=o;return this;},showFlyout:function(o,p){this.setActiveNode(o);if(p){this._flyout.setContext(o).show();this.inform('show',o);}else this._showTimeout=this.showFlyout.bind(this,o,true).defer(this._showDelay);return this;},hideFlyout:function(o){clearTimeout(this._showTimeout);if(o){this._flyout.hide();this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}else this._hideTimeout=this.hideFlyout.bind(this,true).defer(this._hideDelay);},hideFlyoutDelayed:function(o){clearTimeout(this._showTimeout);clearTimeout(this._hideTimeout);this._hideTimeout=this.hideFlyout.bind(this,true).defer(o);},getActiveNode:function(){return this._activeNode;},setActiveNode:function(o){clearTimeout(this._hideTimeout);if(this._activeNode&&this._activeNode!==o)this.hideFlyout(true);this._activeNode=o;return this;},clearNodes:function(){for(var o=this._nodes.length;o>0;o--)this.deactivateNode(this._nodes[o-1]);},destroy:function(){while(this._flyoutSubscriptions.length)this._flyout.unsubscribe(this._flyoutSubscriptions.pop());this.clearNodes();},_onNodeMouseEnter:function(o){if(this._activeNode===o){clearTimeout(this._hideTimeout);}else this.showFlyout(o);},_onFlyoutMouseEnter:function(){clearTimeout(this._hideTimeout);},_onNodeKeyEscape:function(event){if(Event.getKeyCode(event)===k.ESC){this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}}});e.exports=a.HoverFlyout||n;});
function BassWhitespaceListener(a,b){this.link=b;Event.listen(a,'click',this.onclicked.bind(this));}copyProperties(BassWhitespaceListener.prototype,{onclicked:function(a){if(Parent.byTag(a.getTarget(),'A'))return;switch(this.link.getAttribute('rel')){case 'async':Bootloader.loadComponents('async',function(){AsyncRequest.bootstrap(this.link.getAttribute('ajaxify'),this.link);}.bind(this));break;case 'theater':var b=Parent.byClass(a.getTarget(),'fbPhotoSnowlift');Bootloader.loadComponents('PhotoViewer',function(){PhotoViewer.bootstrap(this.link.getAttribute('ajaxify'),this.link);}.bind(this));if(b)return false;break;default:goURI(this.link.getAttribute('href'));}}});
__d("ContextualDialogFooterLink",["event-extensions","copyProperties","CSS","DOM"],function(a,b,c,d,e,f){b('event-extensions');var g=b('copyProperties'),h=b('CSS'),i=b('DOM');function j(k){this._layer=k;}g(j.prototype,{_subscriptions:null,enable:function(){var k=this._layer.getRoot(),l=i.scry(k,'.uiContextualDialogFooterLink')[0],m='uiContextualDialogHoverFooterArrow';this._subscriptions=[Event.listen(l,'mouseenter',h.addClass.curry(k,m)),Event.listen(l,'mouseleave',h.removeClass.curry(k,m))];},disable:function(){this._subscriptions.forEach(function(k){k.remove();});this._subscriptions=null;}});e.exports=j;});
__d("LayerHideOnSuccess",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('success',this._layer.hide.bind(this._layer));},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}}});e.exports=h;});
__d("Overlay",["Class","CSS","DataStore","DOM","Layer","LayerButtons","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerFormHooks","LayerHideOnBlur","LayerHideOnEscape","LayerHideOnSuccess","LayerHideOnTransition","LayerTabIsolation","LayerMouseHooks","copyProperties"],function(a,b,c,d,e,f){var g=b('Class'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('Layer'),l=b('LayerButtons'),m=b('LayerDestroyOnHide'),n=b('LayerFadeOnHide'),o=b('LayerFadeOnShow'),p=b('LayerFormHooks'),q=b('LayerHideOnBlur'),r=b('LayerHideOnEscape'),s=b('LayerHideOnSuccess'),t=b('LayerHideOnTransition'),u=b('LayerTabIsolation'),v=b('LayerMouseHooks'),w=b('copyProperties');function x(y,z){y=w({buildWrapper:true},y||{});this._shouldBuildWrapper=y.buildWrapper;this.parent.construct(this,y,z);}g.extend(x,k);w(x.prototype,{_configure:function(y,z){this.parent._configure(y,z);var aa=this.getRoot();this._overlay=j.scry(aa,'div.uiOverlay')[0]||aa;h.hide(aa);j.appendContent(this.getInsertParent(),aa);i.set(this._overlay,'overlay',this);var ba=i.get(this._overlay,'width');ba&&this.setWidth(ba);if(this.setFixed)this.setFixed(i.get(this._overlay,'fixed')=='true');if(i.get(this._overlay,'fadeonshow')!='false')this.enableBehavior(o);if(i.get(this._overlay,'fadeonhide')!='false')this.enableBehavior(n);if(i.get(this._overlay,'hideonsuccess')!='false')this.enableBehavior(s);if(i.get(this._overlay,'hideonblur')=='true')this.enableBehavior(q);if(i.get(this._overlay,'destroyonhide')!='false')this.enableBehavior(m);return this;},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([l,p,v,r,t,u]);},initWithoutBuildingWrapper:function(){this._shouldBuildWrapper=false;return this.init.apply(this,arguments);},_buildWrapper:function(y,z){z=this.parent._buildWrapper(y,z);if(!this._shouldBuildWrapper){this._contentRoot=z;return z;}this._contentRoot=j.create('div',{className:'uiOverlayContent'},z);return j.create('div',{className:'uiOverlay'},this._contentRoot);},getContentRoot:function(){return this._contentRoot;},destroy:function(){i.remove(this.getRoot(),'overlay');this.parent.destroy();}});e.exports=x;});
__d("ContextualDialogX",["event-extensions","ARIA","Arbiter","ArbiterMixin","Bootloader","Class","ContextualDialogFooterLink","ContextualThing","CSS","DataStore","DOM","Locale","Overlay","Parent","Style","Vector","$","copyProperties","getOverlayZIndex"],function(a,b,c,d,e,f){b('event-extensions');var g=b('ARIA'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('Bootloader'),k=b('Class'),l=b('ContextualDialogFooterLink'),m=b('ContextualThing'),n=b('CSS'),o=b('DataStore'),p=b('DOM'),q=b('Locale'),r=b('Overlay'),s=b('Parent'),t=b('Style'),u=b('Vector'),v=b('$'),w=b('copyProperties'),x=b('getOverlayZIndex');function y(z,aa){this.parent.construct(this,z,aa);}k.extend(y,r);w(y,i,{ARROW_OFFSET:15,ARROW_LENGTH:16,ARROW_INSET:22,TOP_MARGIN:8,BOTTOM_MARGIN:30,LEFT_MARGIN:15,RIGHT_MARGIN:30,POSITION_TO_CLASS:{above:'uiContextualDialogAbove',below:'uiContextualDialogBelow',left:'uiContextualDialogLeft',right:'uiContextualDialogRight'},RIGHT_ALIGNED_CLASS:'uiContextualDialogRightAligned',ARROW_CLASS:{bottom:'uiContextualDialogArrowBottom',top:'uiContextualDialogArrowTop',right:'uiContextualDialogArrowRight',left:'uiContextualDialogArrowLeft'},POSITION_TO_ARROW:{above:'bottom',below:'top',left:'right',right:'left'},getInstance:function(z){var aa=o.get(z,'ContextualDialogX');if(!aa){var ba=s.byClass(z,'uiOverlay');if(ba)aa=o.get(ba,'overlay');}return aa;}});w(y.prototype,{_scrollListener:null,_scrollParent:null,_width:null,_fixed:false,_hasFooter:false,_showSubscription:null,_hideSubscription:null,_setContextSubscription:null,_resizeListener:null,_reflowSubscription:null,_configure:function(z,aa){this.parent._configure(z,aa);var ba=this.getRoot(),ca=o.get.curry(ba);this.setAlignH(ca('alignh','left'));this.setOffsetX(ca('offsetx',0));this.setOffsetY(ca('offsety',0));this.setPosition(ca('position','above'));this._hasFooter=ca('hasfooter',false);if(this._hasFooter){var da=p.scry(ba,'.uiContextualDialogFooterLink')[0];da&&this.enableBehavior(l);}this._setContextSubscription=this.subscribe('beforeshow',function(){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;var ea=ca('context');if(ea){this.setContext(v(ea));}else{ea=ca('contextselector');if(ea)this.setContext(p.find(document,ea));}}.bind(this));this._content=p.scry(ba,'.uiContextualDialogContent')[0];this._showSubscription=this.subscribe('show',function(){var ea=this.updatePosition.shield(this);this._resizeListener=Event.listen(window,'resize',ea);this._reflowSubscription=h.subscribe('reflow',ea);this._setupScrollListener(this._scrollParent);m.register(ba,this.context);h.inform('layer_shown',{type:'ContextualDialog'});}.bind(this));this._hideSubscription=this.subscribe('hide',function(){this._teardownResizeAndReflowListeners();this._teardownScrollListener();h.inform('layer_hidden',{type:'ContextualDialog'});}.bind(this));return this;},_buildWrapper:function(z,aa){var ba=this.parent._buildWrapper(z,aa);if(!this._shouldBuildWrapper)return ba;n.addClass(ba,'uiContextualDialog');return p.create('div',{className:'uiContextualDialogPositioner'},ba);},setWidth:function(z){this._width=Math.floor(z);return this;},setFixed:function(z){z=!!z;n.conditionClass(this.getRoot(),'uiContextualDialogFixed',z);this._fixed=z;return this;},setAlignH:function(z){this.alignH=z;this._updateAlignmentClass();this._shown&&this.updatePosition();this.position&&this._updateArrow();return this;},getContent:function(){return this._content;},getContext:function(){return this.context;},setContext:function(z){if(this._setContextSubscription){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;}z=v(z);if(this.context&&this.context!=z)o.remove(this.context,'ContextualDialogX');this.context=z;g.setPopup(this.getCausalElement(),this.getRoot());var aa=s.byClass(z,'fbPhotoSnowlift');this.setInsertParent(aa||document.body);if(this._scrollListener&&this._scrollParent!==aa){this._teardownScrollListener();this._setupScrollListener(aa);}this._scrollParent=aa;var ba=x(z,this._insertParent);t.set(this.getRoot(),'z-index',ba>200?ba:'');o.set(this.context,'ContextualDialogX',this);return this;},getCausalElement:function(){return this.parent.getCausalElement()||this.context;},listen:function(z,aa){return Event.listen(this.getRoot(),z,aa);},setOffsetX:function(z){this.offsetX=parseInt(z,10)||0;this._shown&&this.updatePosition();return this;},setOffsetY:function(z){this.offsetY=parseInt(z,10)||0;this._shown&&this.updatePosition();return this;},setPosition:function(z){this.position=z;for(var aa in y.POSITION_TO_CLASS)n.conditionClass(this.getRoot(),y.POSITION_TO_CLASS[aa],z==aa);this._updateAlignmentClass();this._shown&&this.updatePosition();this._updateArrow();return this;},updatePosition:function(){if(!this.context)return false;if(this._width)t.set(this._overlay,'width',this._width+'px');var z=this._fixed?'viewport':'document',aa=u.getElementPosition(this.context,z),ba=this._scrollParent;if(ba)aa=aa.sub(u.getElementPosition(ba,'document')).add(ba.scrollLeft,ba.scrollTop);var ca=u.getElementDimensions(this.context),da=this.position=='above'||this.position=='below',ea=q.isRTL();if((this.position=='right'||(da&&this.alignH=='right'))!=ea)aa=aa.add(ca.x,0);if(this.position=='below')aa=aa.add(0,ca.y);var fa=new u(0,0);if(da&&this.alignH=='center'){fa=fa.add((ca.x-this._width)/2,0);}else{var ga=da?ca.x:ca.y,ha=2*y.ARROW_INSET;if(ga<ha){var ia=ga/2-y.ARROW_INSET;if(da&&(this.alignH=='right'!=ea))ia=-ia;fa=fa.add(da?ia:0,da?0:ia);}}fa=fa.add(this.offsetX,this.offsetY);if(ea)fa=fa.mul(-1,1);aa=aa.add(fa);if(this._fixed)aa=new u(aa.x,aa.y,'document');aa.setElementPosition(this.getRoot());this._adjustVerticalPosition();this._adjustHorizontalPosition();return true;},scrollTo:function(){if(this.context)j.loadModules(['DOMScroll'],function(z){z.scrollTo(this.context,true,true);}.bind(this));},destroy:function(){this.unsubscribe(this._showSubscription);this.unsubscribe(this._hideSubscription);if(this._setContextSubscription){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;}this._teardownScrollListener();this._teardownResizeAndReflowListeners();this.context&&o.remove(this.context,'ContextualDialogX');this.parent.destroy();},_adjustVerticalPosition:function(){if(this.position!='left'&&this.position!='right'){t.set(this._overlay,'top','');return;}var z=this.getRoot(),aa=u.getElementPosition(z,'viewport').y,ba=u.getElementDimensions(this._overlay).y,ca=u.getViewportDimensions().y,da=y.TOP_MARGIN,ea=Math.min(Math.max(0,aa+ba+y.BOTTOM_MARGIN-ca),Math.max(-da,aa-da),ba-2*y.ARROW_INSET);t.set(this._overlay,'top',(-1*ea)+'px');t.set(this._arrow,'top',y.ARROW_OFFSET+'px');t.set(this._arrow,'marginTop',ea+'px');},_adjustHorizontalPosition:function(){if((this.position!='above'&&this.position!='below')||this.alignH!='left'){t.set(this._overlay,'left','');t.set(this._overlay,'right','');return;}var z=this.getRoot(),aa=u.getElementPosition(z,'viewport').x,ba=u.getElementDimensions(this._overlay).x,ca=u.getViewportDimensions().x,da=q.isRTL(),ea;if(!da){ea=aa+ba+y.RIGHT_MARGIN-ca;}else ea=y.LEFT_MARGIN+ba-aa;ea=Math.min(Math.max(0,ea),ba-2*y.ARROW_INSET);t.set(this._overlay,da?'right':'left',-1*ea+'px');t.set(this._arrow,da?'right':'left',y.ARROW_OFFSET+'px');t.set(this._arrow,da?'marginRight':'marginLeft',ea+'px');},_updateArrow:function(){var z=0;if(this.position=='above'||this.position=='below')switch(this.alignH){case 'center':z=50;break;case 'right':z=100;break;}this._renderArrow(y.POSITION_TO_ARROW[this.position],z);},_renderArrow:function(z,aa){for(var ba in y.ARROW_CLASS)n.conditionClass(this._overlay,y.ARROW_CLASS[ba],z==ba);n.conditionClass(this._overlay,'uiContextualDialogWithFooterArrowBottom',z=='bottom'&&this._hasFooter);if(z=='none')return;if(!this._arrow){this._arrow=p.create('i',{className:'uiContextualDialogArrow'});p.appendContent(this._overlay,this._arrow);}t.set(this._arrow,'top','');t.set(this._arrow,'left','');t.set(this._arrow,'right','');t.set(this._arrow,'margin','');var ca=z=='top'||z=='bottom',da=ca?(q.isRTL()?'right':'left'):'top';aa=aa||0;t.set(this._arrow,da,aa+'%');var ea=y.ARROW_LENGTH+y.ARROW_OFFSET*2,fa=-(ea*aa/100-y.ARROW_OFFSET);t.set(this._arrow,'margin-'+da,fa+'px');},_updateAlignmentClass:function(){n.conditionClass(this.getRoot(),y.RIGHT_ALIGNED_CLASS,(this.position=='above'||this.position=='below')&&this.alignH=='right');},_setupScrollListener:function(z){this._scrollListener=Event.listen(z||window,'scroll',this._adjustVerticalPosition.shield(this));},_teardownScrollListener:function(){if(this._scrollListener){this._scrollListener.remove();this._scrollListener=null;}},_teardownResizeAndReflowListeners:function(){if(this._resizeListener){this._resizeListener.remove();this._resizeListener=null;}if(this._reflowSubscription){this._reflowSubscription.unsubscribe();this._reflowSubscription=null;}}});e.exports=y;});
__d("MenuXSelectableItem",["Class","copyProperties","CSS","MenuXItem"],function(a,b,c,d,e,f){var g=b('Class'),h=b('copyProperties'),i=b('CSS'),j=b('MenuXItem');function k(l){this.parent.construct(this,l);}g.extend(k,j);h(k.prototype,{_selected:false,getLabel:function(){return this._data.label;},getIcon:function(){return this._data.icon;},isSelected:function(){return this._selected;},select:function(){i.addClass(this._root,'checked');this._selected=true;},deselect:function(){i.removeClass(this._root,'checked');this._selected=false;},render:function(){var l=this.parent.render();if(this._data.selected){i.addClass(l,'checked');this._selected=true;}return l;}});e.exports=k;});
__d("PopoverMenuOverlappingBorder",["function-extensions","CSS","DOM","Style","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('CSS'),h=b('DOM'),i=b('Style'),j=b('copyProperties');function k(l){this._popoverMenu=l;this._popover=l.getPopover();this._triggerElem=l.getTriggerElem();}j(k.prototype,{_shortBorder:null,_setMenuSubscription:null,_showSubscription:null,_menuSubscription:null,enable:function(){this._setMenuSubscription=this._popoverMenu.subscribe('setMenu',this._onSetMenu.bind(this));},disable:function(){this._popoverMenu.unsubscribe(this._setMenuSubscription);this._setMenuSubscription=null;this._removeBorderSubscriptions();this._removeShortBorder();},_onSetMenu:function(){this._removeBorderSubscriptions();this._menu=this._popoverMenu.getMenu();this._renderShortBorder(this._menu.getRoot());this._showSubscription=this._popover.subscribe('show',this._updateBorder.bind(this));this._menuSubscription=this._menu.subscribe(['change','resize'],Function.prototype.defer.shield(this._updateBorder.bind(this)));this._updateBorder();},_updateBorder:function(){var l=this._menu.getRoot(),m=this._triggerElem.offsetWidth;i.set(l,'min-width',m+'px');var n=Math.max(l.offsetWidth-m,0);i.set(this._shortBorder,'width',n+'px');},_renderShortBorder:function(l){this._shortBorder=h.create('div',{className:'uiMenuXShortBorder'});h.appendContent(l,this._shortBorder);g.addClass(l,'uiMenuXWithShortBorder');},_removeShortBorder:function(){if(this._shortBorder){h.remove(this._shortBorder);this._shortBorder=null;g.removeClass(this._popoverMenu.getMenu().getRoot(),'uiMenuXShortBorder');}},_removeBorderSubscriptions:function(){if(this._showSubscription){this._popover.unsubscribe(this._showSubscription);this._showSubscription=null;}if(this._menuSubscription){this._menu.unsubscribe(this._menuSubscription);this._menuSubscription=null;}}});e.exports=k;});
__d("StickyController",["event-extensions","CSS","DOM","Style","Vector","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('CSS'),h=b('DOM'),i=b('Style'),j=b('Vector'),k=b('copyProperties');function l(m,n,o,p){this._element=m;this._marginTop=n;this._onchange=o;this._proxy=p||m.parentNode;this._boundQueryOnScroll=this._queryOnScroll.bind(this);this._boundMutateOnScroll=this._mutateOnScroll.bind(this);}k(l.prototype,{handleScroll:function(){h.queryThenMutate(this._boundQueryOnScroll,this._boundMutateOnScroll);},_queryOnScroll:function(){this._shouldFix=j.getElementPosition(this._proxy,'viewport').y<=this._marginTop;},_mutateOnScroll:function(){var m=this._shouldFix;if(this.isFixed()!==m){i.set(this._element,'top',m?this._marginTop+'px':'');g.conditionClass(this._element,'fixed_elem',m);this._onchange&&this._onchange(m);}},start:function(){if(this._event)return;this._event=Event.listen(window,'scroll',this.handleScroll.bind(this));this.handleScroll.bind(this).defer();},stop:function(){this._event&&this._event.remove();this._event=null;},isFixed:function(){return g.hasClass(this._element,'fixed_elem');}});e.exports=l;});
__d("guid",[],function(a,b,c,d,e,f){function g(){return 'f'+(Math.random()*(1<<30)).toString(16).replace('.','');}e.exports=g;});
__d("TimelineSideAds",["event-extensions","function-extensions","Arbiter","cx","csx","CSS","DOM","StickyController","TimelineConstants","TimelineController","UIPagelet","URI","Vector","debounce","ge"],function(a,b,c,d,e,f){b('event-extensions');b('function-extensions');var g=b('Arbiter'),h=b('cx'),i=b('csx'),j=b('CSS'),k=b('DOM'),l=b('StickyController'),m=b('TimelineConstants'),n=b('TimelineController'),o=b('UIPagelet'),p=b('URI'),q=b('Vector'),r=b('debounce'),s=b('ge'),t=2,u=3,v=75,w='data-height',x=30000,y=0,z=false,aa,ba,ca,da,ea=[],fa,ga=false,ha,ia=Infinity,ja=5,ka=false,la,ma,na,oa,pa,qa=false,ra=[],sa,ta=false,ua={about:true};function va(nb,ob,pb){var qb=0;if(ob)qb+=ob.getHeight();if(!ab()&&!qb)return;nb-=qb;var rb=0;for(var sb=0;sb<pb;sb++)rb+=fb(sb);if(ob)if(nb<rb){nb+=ob.fold(rb-nb);}else if(nb>rb)nb-=ob.unfold(nb-rb);return nb;}function wa(){var nb=ba.cloneNode(true);nb.id='';var ob=true;k.scry(nb,'div.ego_unit').forEach(function(pb){if(ob){ob=false;}else k.remove(pb);});j.addClass(nb,'fixed_elem');return nb;}function xa(){if(!n.pageHasScrubber(fa)){bb(ja);db();}else if(ma){cb(ba,false);var nb=na;na&&k.remove(na);na=wa();if(nb)kb();bb(n.sidebarInitialized()&&ga?u:t);db();if(!ha){var ob=n.getCurrentScrubber();if(ob)jb(ob.getRoot(),ob.getOffset());}ha&&ha.start();}else mb.adjustAdsToFit();}function ya(){if(na){k.remove(na);na=null;}if(ha){ha.stop();ha=null;}if(ab()){j.conditionClass(ba,'fixed_elem',!ma);j.conditionClass(ba,"_22s",!n.pageHasScrubber(fa));}else j.conditionClass(ba,'fixed_elem',!ma&&n.pageHasScrubber(fa));}function za(nb){var ob=q.getViewportDimensions().y,pb=n.getCurrentScrubber(),qb=pb?pb.getOffset():m.SCRUBBER_DEFAULT_OFFSET,rb=ob-qb-v;if(pb||ab())return va(rb,pb,nb);}function ab(){if(ta)return fa in ua;return n.fixedAds();}function bb(nb){da=Math.min(nb,ea.length);for(var ob=0;ob<ea.length;ob++)cb(ea[ob],ob>=da);cb(ba,da===0);}function cb(nb,ob){j.conditionClass(nb,"_22r",ob);nb.setAttribute('aria-hidden',ob?'true':'false');}function db(){if(!oa)return;for(var nb=da-1;nb>=0;--nb){if(ha&&ha.isFixed()&&((nb!==0)||(na&&!j.shown(na))))continue;var ob=k.find(ea[nb],"div._4u8"),pb=ob.getAttribute('data-ad'),qb=JSON.parse(pb).adid;if(!oa[qb])return;var rb=k.create('iframe',{src:p('/ai.php').addQueryData({aed:oa[qb]}),width:0,height:0,frameborder:0,scrolling:'no',className:'fbEmuTracking'});rb.setAttribute('aria-hidden','true');k.appendContent(ba,rb);delete oa[qb];}}function eb(nb){var ob=0;while(nb>0&&ob<ja){nb-=fb(ob);if(nb>=0)ob++;}return ob;}function fb(nb){var ob=ea[nb];if(!ob)return 0;if(!ob.getAttribute(w))gb(ob);return parseInt(ob.getAttribute(w),10);}function gb(nb){nb.setAttribute(w,nb.offsetHeight);}function hb(){for(var nb=0;nb<ea.length;nb++){var ob=ea[nb];if(!ob)continue;gb(ob);}}function ib(){ea=k.scry(ba,'div.ego_unit');var nb=ea.length;if(!nb)return;ka=nb;xa();var ob=function(pb){gb(pb);ka=--nb;mb.adjustAdsToFit();if(!ka)ia=Date.now();};ea.forEach(function(pb){function qb(){ob.curry(pb).defer();}var rb=k.scry(pb,'img.img')[0];if(!rb)return;if(rb.complete){qb();}else Event.listen(rb,{load:qb,error:qb,abort:qb});});}function jb(nb,ob){ha=new l(nb,ob,function(pb){if(pb){kb();}else{k.remove(na);db();}});if(na)ha.start();}function kb(){k.insertAfter(ba,na);lb();}function lb(){j.conditionShow(na,fb(0)<=za(1)&&!j.hasClass(document.documentElement,'tinyViewport'));}var mb={init:function(nb,ob,pb){if(z)return;ja=pb.max_ads;aa=pb.refresh_delay;x=pb.refresh_threshold;z=true;ca=ob;ba=nb;ta=pb.is_standalone;if(ta){ma=false;fa=pb.page_key;ya();}mb.adjustAdsType(n.shouldShowWideAds());pa=g.subscribe(['UFI/CommentAddedActive','UFI/CommentDeletedActive','UFI/LikeActive','Curation/Action','ProfileBrowser/LoadMoreContent','Ads/NewContentDisplayed'],mb.loadAdsIfEnoughTimePassed);sa=r(mb.loadAdsIfEnoughTimePassed,aa,this,true);if(pb.mouse_move){ra.push(Event.listen(window,'mousemove',sa));ra.push(Event.listen(window,'scroll',sa));ra.push(Event.listen(window,'resize',sa));}n.register(n.ADS,mb);},setShortMode:function(nb){ma=nb;},start:function(nb){oa=nb;la=null;ib();},updateCurrentKey:function(nb){if(nb==fa)return;fa=nb;ya();},loadAds:function(nb){if(ka||la)return;ia=Infinity;la=o.loadFromEndpoint('WebEgoPane',ba.id,{pid:33,data:[ca,false,'timeline_'+nb,ma?u:ja,++y]},{crossPage:true,bundle:false});},registerScrubber:function(nb){if(ma)jb(nb.getRoot(),nb.getOffset());!la&&mb.adjustAdsToFit();},loadAdsIfEnoughTimePassed:function(){if(x&&(Date.now()-ia>=x)&&!j.hasClass(document.documentElement,'tinyViewport')&&(!ha||ha.isFixed())&&(!oa||!oa[ea[0]]))mb.loadAds(fa);mb.adjustAdsToFit();},adjustAdsType:function(nb){if(nb!=ga){j.conditionClass(ba,"_22q",!nb);j.conditionClass(ba,"_35q",!nb);na&&j.conditionClass(na,"_22q",!nb);na&&j.conditionClass(na,"_35q",!nb);ga=nb;hb();mb.adjustAdsToFit();var ob=s('rightColContent');if(ob)j.conditionClass(ob,'fbTimelineWideRightCol',nb);}},adjustAdsToFit:function(){if(!ba||qa)return;qa=true;var nb=ga?u:t;if(ma){if(ha&&na){ha.handleScroll();if(ha.isFixed()){j.conditionShow(na,fb(0)<=za(1)&&!j.hasClass(document.documentElement,'tinyViewport'));}else bb(nb);db();}}else{var ob=za(nb);if(typeof ob!=='undefined'){bb(eb(ob));if(!ka)db();}}qa=false;},reset:function(){ha&&ha.stop();la&&la.cancel();ea=[];ga=false;ba=null;ha=null;la=null;y=0;ka=null;ma=null;na=null;fa=null;ia=Infinity;z=false;pa&&g.unsubscribe(pa);pa=null;ra.forEach(function(nb){nb.remove();});ra=[];sa&&sa.reset();}};e.exports=a.TimelineSideAds||mb;});
__d("ErrorDialog",["Dialog","emptyFunction"],function(a,b,c,d,e,f){var g=b('Dialog'),h=b('emptyFunction'),i={showAsyncError:function(j){try{return i.show(j.getErrorSummary(),j.getErrorDescription());}catch(k){alert(j);}},show:function(j,k,l,m){return (new g()).setTitle(j).setBody(k).setButtons([g.OK]).setStackable(true).setModal(true).setHandler(l||h).setButtonsMessage(m||'').show();}};e.exports=i;});
__d("legacy:Tooltip",["Tooltip"],function(a,b,c,d){a.Tooltip=b('Tooltip');},3);
__d("legacy:ScrollAwareDOM",["ScrollAwareDOM"],function(a,b,c,d){a.ScrollAwareDOM=b('ScrollAwareDOM');},3);
__d("DialogHideOnSuccess",["copyProperties","CSS","cx"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('CSS'),i=b('cx');function j(k){this._layer=k;}g(j.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('success',this._handle.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_handle:function(k,event){if(h.hasClass(event.getTarget(),"_s"))this._layer.hide();}});e.exports=j;});
__d("TimelineLogging",["TimelineController","reportData"],function(a,b,c,d,e,f){var g=b('TimelineController'),h=b('reportData'),i=false,j=0,k=null,l={init:function(m){if(i)return;j=m;g.register(g.LOGGING,this);},reset:function(){i=false;j=0;k=null;},log:function(m,n){n.profile_id=j;h(m,{gt:n});},logSectionChange:function(m,n){var o={timeline_section_change:1,key:m};if(k&&m==k){o.timeline_scrubber=1;k=null;}l.log('timeline',o);},logScrubberClick:function(m){k=m;}};e.exports=l;});
__d("TimelineNavigation",["event-extensions","Arbiter","DOM","CSS","PageTransitions","Parent","TimelineController","TimelineURI","URI","$","createArrayFrom","ge"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('DOM'),i=b('CSS'),j=b('PageTransitions'),k=b('Parent'),l=b('TimelineController'),m=b('TimelineURI'),n=b('URI'),o=b('$'),p=b('createArrayFrom'),q=b('ge'),r=4,s=110,t=20,u=119,v=328,w=10,x=3,y=false,z=21,aa,ba,ca,da=[],ea=[],fa,ga=0,ha,ia=0,ja=0,ka,la=r,ma=false,na=false,oa=null,pa,qa=false,ra,sa,ta=false;function ua(ib,jb,kb){if(!jb.firstChild){h.remove(jb);return;}ea.push(jb);xa(kb.recent);i.removeClass(k.byTag(jb,'li'),'empty');if(fa&&(ia>r||ja>0))i.removeClass(fa,'notready');wa();if(kb.async){bb();db();}}function va(ib,jb,kb){h.remove(k.byTag(jb,'li'));if(!kb.async){ka++;}else{ia--;bb();db();}wa();}function wa(){var ib=fa?0:z;if(ia<=r){var jb=v+u*Math.max(0,r-ia)+ib;ha.style.width=jb+'px';la=ia;ya();}}function xa(ib){if(ib){ja++;}else ia++;ya();}function ya(){if(!ra)return;var ib=Math.max(0,ia-r)+ja;if(ga&&fa){h.setContent(ga,ib===0?" ":ib);i.conditionClass(fa,'fbTimelineMoreButtonZero',ib===0);if(!ma)i.conditionShow(fa,ib>0);}}function za(){var ib=h.scry(o('fbTimelineNavTopRow'),'li.tile'),jb=0,kb=0,lb=Math.max(0,r-la),mb=false;for(var nb=0;nb<ib.length;nb++){if(ib[nb]==ha||ib[nb]==fa)continue;mb=((jb+lb)%r===0);i.conditionClass(ib[nb],'leftMost',(jb!==0&&mb));if(!i.hasClass(ib[nb],'empty'))kb=jb;jb++;}mb=((kb+1+lb)%r===0);var ob=ib.length-1-lb;if(mb){if(ma&&(kb+1+lb)/r<x){ob=Math.min(ob,kb+r);na=true;}else ob=kb;}else{var pb=((kb+1+lb)%r);ob=kb+(r-pb);na=false;}nb=0;for(nb=0;nb<=ob;nb++)if(ib[nb]&&(ib[nb]==ha||ib[nb]==fa)){ob++;}else ib[nb]&&i.hasClass(ib[nb],'empty')&&i.removeClass(ib[nb],'hidden_elem');}function ab(ib,jb,kb){var lb=h.scry(ib,'li.tile');if(!jb)jb=0;var mb=false;for(var nb=jb;nb<lb.length;nb++){mb=((nb-kb)%r===0);var ob=lb[nb];i.conditionClass(ob,'leftMost',mb);if(i.hasClass(ob,'empty'))i.removeClass(ob,'hidden_elem');}}function bb(){za();var ib=q('fbTimelineNavSecondaryRow');ib&&ab(ib,0,0);}function cb(){if(!fa)return;if(i.hasClass(fa,'notready'))return;i.toggleClass(fa,'fbTimelineMoreButtonOpen');var ib=q('fbRecentAppTitle');ib&&i.conditionClass(ib,'hidden_elem',ja===0);if(i.hasClass(fa,'fbTimelineMoreButtonOpen')){bb();}else ya();db();}function db(){if(fa&&!i.hasClass(fa,'fbTimelineMoreButtonOpen')){aa.style.height='';i.removeClass(aa,'expanded');}else{var ib=ia+(r-la),jb=((ja>0)?w:0)+s*(Math.ceil(ja/r))+s*(Math.ceil(ib/r))+s*(na?1:0)+t;i.addClass(aa,'expanded');aa.style.height=jb+'px';}}function eb(ib){var jb=ib==m.TIMELINE_KEY||ib==m.WALL_KEY,kb=k.byClass(aa,'fbTimelineTopSectionBase'),lb=q('timeline_tour_toolbar');if(fa){i.removeClass(fa,'fbTimelineMoreButtonOpen');db();}lb&&i.conditionShow(lb,jb);if(kb)i.conditionClass(kb,'collapsedHead',!jb);}function fb(event){if(ta)return true;if(!k.byTag(event.getTarget(),'a')){var ib=h.find(ha,'a.title');j.go(ib.href);}}function gb(){if(fa)(function(){fa.removeAttribute('ajaxify');fa.removeAttribute('rel');}).defer();oa&&oa.remove();}var hb={UPDATE_PAGE:'TimelineNavigation/updatePage',init:function(ib,jb,kb,lb){if(y)return;y=true;aa=ib;fa=jb;ba=n.getRequestURI();ha=h.find(aa,'li.about');eb(l.getCurrentKey());ma=lb;g.inform(hb.UPDATE_PAGE);if(fa){ga=h.find(fa,'div.text');oa=Event.listen(fa,'click',gb);}pa=o('fbTimelineNavigationLoadContainer');h.appendContent(o('content'),pa);sa=Event.listen(ha,'click',fb);da.forEach(function(nb){if(!nb[2].remove){ua.apply(this,nb);}else va.apply(this,nb);});da=[];var mb=k.byClass(ib,'fbTimelineSection');if(mb)h.scry(mb,'ul.uiButtonGroup').forEach(function(nb){p(nb.childNodes).forEach(function(ob){ob.childNodes.length||h.remove(ob);});if(nb.firstChild){i.addClass(nb.firstChild,'firstItem');}else h.remove(nb);});l.register(l.NAV,hb);},reset:function(){sa&&sa.remove();sa=null;ra&&ra.remove();ra=null;y=false;aa=null;ca=null;ea=[];fa=null;ga=null;ha=null;ia=0;ja=0;ka=0;la=r;ma=false;na=false;pa=null;qa=false;ta=false;},initializeMorePager:function(){if(ra)return;if(fa)ra=Event.listen(fa,'click',cb);},registerNav:function(ib,jb,kb){y?(kb.remove?va.apply(this,arguments):ua.apply(this,arguments)):da.push(arguments);},redraw:function(){bb();db();},setEditMode:function(ib){ta=ib;}};e.exports=hb;});
__d("TimelineStickyHeaderNav",["array-extensions","event-extensions","function-extensions","Arbiter","ButtonGroup","CSS","DOM","Parent","Selector","Style","TimelineConstants","TimelineController","TimelineLegacySections","URI","UserAgent","Vector","ge","tx"],function(a,b,c,d,e,f){b('array-extensions');b('event-extensions');b('function-extensions');var g=b('Arbiter'),h=b('ButtonGroup'),i=b('CSS'),j=b('DOM'),k=b('Parent'),l=b('Selector'),m=b('Style'),n=b('TimelineConstants'),o=b('TimelineController'),p=b('TimelineLegacySections'),q=b('URI'),r=b('UserAgent'),s=b('Vector'),t=b('ge'),u=b('tx'),v=false,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha={},ia={},ja=[],ka=false,la=[],ma=[],na=[],oa=[],pa=[],qa=["janeiro","fevereiro","mar\u00e7o","abril","maio","Junho","julho","agosto","setembro","outubro","novembro","dezembro"];function ra(event){var gb=k.byTag(event.getTarget(),'a');if(gb){o.navigateToSection(gb.getAttribute('data-key'));event.prevent();}}function sa(gb,hb){var ib=l.getValue(hb);if(ib==='allStories')p.get(gb).expandSubSections();if(ib!=='activityLog')ta(hb);}function ta(gb){db(gb,'highlights');db(gb,'allStories');var hb=j.find(gb,'li.separator');i.conditionShow(hb,hb.previousSibling);}function ua(gb){if(ea[gb]&&!x.custom_subsection_menu){ab(gb);}else xa();o.adjustStickyHeaderWidth();}function va(gb,hb){var ib=hb.key;if(fa[ib]){bb(ib);ua(ib);}}function wa(gb,hb){var ib=hb.scrubberKey;bb(ib);if(y===ib)ua(ib);}function xa(){z.hideItem(ca);}function ya(gb){var hb=gb.split('_');return qa[hb.pop()-1];}function za(gb){var hb=da[gb],ib=ea[gb];if(!hb&&ib){hb=da[gb]=ca.cloneNode(true);var jb=j.scry(hb,'li.activityLog a')[0];if(jb)jb.href=q(jb.href).addQueryData({key:gb});var kb=o.getCurrentScrubber();if(ib.length)i.show(j.find(hb,'li.separator'));for(var lb=0;lb<ib.length;lb++){var mb=ib[lb].scrubberKey,nb=kb?kb.getLabelForSubnav(ib[lb].parentKey,mb):nb=ya(mb);if(nb)cb(hb,{key:mb,label:nb});}if(eb()){ta(hb);l.setSelected(hb,j.scry(hb,'option')[1].value,true);}pa.push(l.listen(hb,'change',sa.curry(gb,hb)));na.push(Event.listen(hb,'click',ra));}return hb;}function ab(gb){var hb=za(gb);j.insertAfter(ca,hb);i.hide(ca);for(var ib in da){var jb=da[ib];i.conditionShow(jb,jb===hb);}z.showItem(ca);}function bb(gb){ea[gb]=p.get(gb).subSections;}function cb(gb,hb){var ib=j.create('a',{href:'#',rel:'ignore',className:'itemAnchor',tabIndex:0},j.create('span',{className:'itemLabel fsm'},hb.label));ib.setAttribute('data-key',hb.key);ib.setAttribute('aria-checked',false);var jb=j.create('li',{className:'uiMenuItem uiMenuItemRadio uiSelectorOption'},ib);jb.setAttribute('data-label',hb.label);var kb=j.find(gb,'ul.uiMenuInner'),lb=j.create('option',{value:hb.key},hb.label),mb=j.find(gb,'select');if(hb.key==='recent'){j.prependContent(kb,jb);j.insertAfter(mb.options[0],lb);}else{j.appendContent(kb,jb);j.appendContent(mb,lb);}}function db(gb,hb){var ib=j.scry(gb,'li.uiMenuItem');if(!ib)return;for(var jb=0;jb<ib.length;jb++){var kb=ib[jb];if(i.hasClass(kb,hb)||kb.firstChild.getAttribute('data-key')==hb){j.remove(kb);break;}}var lb=j.find(gb,'select'),mb=j.scry(lb,'option');for(jb=0;jb<mb.length;jb++)if(mb[jb].value===hb){j.remove(mb[jb]);return;}}function eb(){return o.getCurrentKey()==='allactivity'||o.getCurrentKey()==='approve';}var fb={init:function(gb,hb){if(v)return;v=true;w=gb;x=hb||{};aa=j.find(w,'div.pageMenu');ba=j.find(w,'div.sectionMenu');ca=j.find(w,'div.subsectionMenu');ga=j.find(aa,'li.uiMenuSeparator');z=h.getInstance(aa);da={};ea={};fa={};fb.adjustMenuHeights();o.register(o.STICKY_HEADER_NAV,fb);ma.forEach(function(ib){ib();});},reset:function(){v=false;x={};ja=[];ha={};ia={};ka=false;la=[];w=null;aa=null;ba=null;ca=null;ga=null;da={};ea={};fa={};while(na.length)na.pop().remove();oa.forEach(g.unsubscribe);pa.forEach(l.unsubscribe.bind(l));},addTimePeriods:function(gb){if(!gb.length)return;if(x.pull_from_scrubber){j.setContent(j.find(ba,'ul.uiMenuInner'),'');j.remove(j.find(ba,'select').children[1]);while(gb.length){var hb=gb.shift();hb&&fb.addTimePeriod(hb);}z.showItem(ba);}var ib=l.getSelectorMenu(ba);na.push(Event.listen(ib,'click',ra));var jb=eb()?n.SECTION_REGISTERED:n.SECTION_LOADED,kb=eb()?wa:va;oa.push(g.subscribe(jb,kb));},addTimePeriod:function(gb){var hb=o.getCurrentScrubber();if(!hb)return;var ib=hb.getLabelForNav(gb);if(!ib)return;cb(ba,{key:gb,label:ib});var jb=j.find(ba,'ul.uiMenuInner');if(gb==='recent'||jb.children.length<2)l.setSelected(ba,gb,true);},updateSection:function(gb,hb){if(hb){var ib=za(gb);if(ib){l.setSelected(ib,hb);ta(ib);}else y=gb;}else{fa[gb]=true;bb(gb);}l.setSelected(ba,gb,true);ua(gb);},adjustMenuHeights:function(){if(r.ie()<=7)return;[aa,ba].forEach(function(gb){var hb='';if(!i.hasClass(document.documentElement,'tinyViewport')){hb=s.getViewportDimensions().y-s.getElementDimensions(t('blueBar')).y-80;hb+='px';}m.set(j.find(gb,'ul.uiMenuInner'),'maxHeight',hb);});},initPageMenu:function(gb,hb){if(!v){ma.push(fb.initPageMenu.curry(gb,hb));return;}function ib(jb,kb){jb.forEach(function(lb){var mb=ia[lb]=j.create('li');i.hide(mb);kb?j.insertBefore(ga,mb):j.appendContent(j.find(aa,'ul.uiMenuInner'),mb);});}ib(gb,true);ib(hb,false);ha.info=j.scry(aa,'li')[0];ja=hb;ka=true;if(la.length)la.forEach(function(jb){fb.registerPageMenuItem(jb.key,jb.item);});},registerPageMenuItem:function(gb,hb){if(!ka){la.push({key:gb,item:hb});return;}if(ia[gb]){j.replace(ia[gb],hb);ha[gb]=hb;delete ia[gb];if(ja.indexOf(gb)>=0)i.show(ga);}},removeTimePeriod:function(gb){db(ba,gb);}};e.exports=fb;});
__d("UIIntentionalStreamMessage",[],function(a,b,c,d,e,f){var g={SET_AUTO_INSERT:'UIIntentionalStream/setAutoInsert',UPDATE_STREAM:'UIIntentionalStreamRefresh/updateStream',REFRESH_STREAM:'UIIntentionalStreamRefresh/refreshStream',UPDATE_AUTOREFRESH_CONFIG:'UIIntentionalStream/updateAutoRefreshConfig',UPDATE_HTML_CONTENT:'UIIntentionalStream/updateHtmlContent',UPDATE_LAST_REFRESH_TIME:'UIIntentionalStream/updateLastRefreshTime',INSERT_STORIES:'UIIntentionalStream/updateLastRefreshTime',UNLOAD:'UIIntentionalStream/unload'};e.exports=g;});
__d("TimelineFriendsNavHovercard",["event-extensions","Hovercard","UserAgent"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Hovercard'),h=b('UserAgent');function i(event){var k=event.getTarget();g.processNode(k)&&event.stop();}var j={init:function(k){if(h.ie()<7)return;Event.listen(k,'mouseover',i);}};e.exports=j;});
__d("legacy:input-methods",["Input","copyProperties"],function(a,b,c,d){var e=b('Input'),f=b('copyProperties');f(a.Input||(a.Input={}),e);},3);
__d("PopoverAsyncMenuLoading",["Class","copyProperties","DOM","PopoverMenuInterface"],function(a,b,c,d,e,f){var g=b('Class'),h=b('copyProperties'),i=b('DOM'),j=b('PopoverMenuInterface');function k(l){this.parent.construct(this);this._className=l||'';}g.extend(k,j);h(k.prototype,{_root:null,getRoot:function(){if(!this._root)this._root=i.create('div',{className:this._className},i.create('div',{className:'uiMenuXBorder'},i.create('div',{className:'uiMenuX uiMenuXLoading'},i.create('span',{className:'spinner'}))));return this._root;}});e.exports=k;});
__d("PopoverAsyncMenu",["event-extensions","AsyncRequest","Class","CSS","DOM","PopoverAsyncMenuLoading","PopoverMenu","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('AsyncRequest'),h=b('Class'),i=b('CSS'),j=b('DOM'),k=b('PopoverAsyncMenuLoading'),l=b('PopoverMenu'),m=b('copyProperties'),n={},o=0;function p(q,r,s,t,u){this._endpoint=t;this._loadingMenu=s;this._instanceId=o++;n[this._instanceId]=this;this._mouseoverListener=Event.listen(r,'mouseover',this._fetchMenu.bind(this));this.parent.construct(this,q,r,null,u);}p.setMenu=function(q,r){n[q].setMenu(r);};h.extend(p,l);m(p.prototype,{_fetched:false,_mouseoverListener:null,_onLayerInit:function(){if(!this._menu)this.setMenu(this._loadingMenu);this._fetchMenu();},_fetchMenu:function(){if(this._fetched)return;new g().setURI(this._endpoint).setData({pmid:this._instanceId}).send();this._fetched=true;if(this._mouseoverListener){this._mouseoverListener.remove();this._mouseoverListener=null;}}});e.exports=p;});
__d("legacy:UIIntentionalStream-message",["UIIntentionalStreamMessage"],function(a,b,c,d){a.UIIntentionalStreamMessage=b('UIIntentionalStreamMessage');},3);
__d("legacy:UIPagelet",["UIPagelet"],function(a,b,c,d){a.UIPagelet=b('UIPagelet');},3);
__d("legacy:onvisible",["OnVisible"],function(a,b,c,d){a.OnVisible=b('OnVisible');},3);
__d("legacy:link-controller",["LinkController"],function(a,b,c,d){a.LinkController=b('LinkController');},3);
__d("TypeaheadShowLoadingIndicator",["CSS","copyProperties"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('copyProperties');function i(j){this._typeahead=j;}h(i.prototype,{_subscription:null,enable:function(){this._subscription=this._typeahead.subscribe('loading',function(j,k){g.conditionClass(this._typeahead.getElement(),'typeaheadLoading',k.loading);g.conditionClass(this._typeahead.getView().getElement(),'typeaheadViewLoading',k.loading);}.bind(this));},disable:function(){this._typeahead.unsubscribe(this._subscription);this._subscription=null;}});e.exports=i;});
__d("legacy:ShowLoadingIndicatorTypeaheadBehavior",["TypeaheadShowLoadingIndicator"],function(a,b,c,d){var e=b('TypeaheadShowLoadingIndicator');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.showLoadingIndicator=function(f){f.enableBehavior(e);};},3);
__d("ClearableTypeahead",["event-extensions"],function(a,b,c,d,e,f){b('event-extensions');var g={resetOnCloseButtonClick:function(h,i){Event.listen(i,'click',function(){var j=h.getCore();j.getElement().focus();j.reset();});}};e.exports=g;});
__d("legacy:ContextualDialogX",["ContextualDialogX"],function(a,b,c,d){a.ContextualDialogX=b('ContextualDialogX');},3);
__d("legacy:dom-scroll",["DOMScroll"],function(a,b,c,d){a.DOMScroll=b('DOMScroll');},3);
__d("Selector",["event-extensions","Arbiter","Button","ContextualLayer","CSS","DataStore","DOM","HTML","Input","Keys","KeyStatus","Menu","Parent","Style","Toggler","Tooltip","Vector","copyProperties","emptyFunction"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('Button'),i=b('ContextualLayer'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('HTML'),n=b('Input'),o=b('Keys'),p=b('KeyStatus'),q=b('Menu'),r=b('Parent'),s=b('Style'),t=b('Toggler'),u=b('Tooltip'),v=b('Vector'),w=b('copyProperties'),x=b('emptyFunction'),y,z,aa=[],ba;function ca(na){return r.byClass(na,'uiSelector');}function da(na){return r.byClass(na,'uiSelectorButton');}function ea(){if(!z){z=new i({position:'below'},l.create('div'));j.addClass(z.getRoot(),'uiSelectorContextualLayer');}return z;}function fa(na){return l.scry(na,'select')[0];}function ga(na){return l.find(na,'div.uiSelectorMenuWrapper');}function ha(){ha=x;q.subscribe('select',function(na,oa){if(!y||!oa||oa.menu!==ma.getSelectorMenu(y))return;var pa=ia(y),qa=ja(oa.item);if(qa){var ra=y,sa=ma.isOptionSelected(oa.item),ta=ma.inform('select',{selector:ra,option:oa.item,clone:ba});if(ta===false)return;if(pa||!sa){ma.setSelected(ra,ma.getOptionValue(oa.item),!sa);ma.inform('toggle',{selector:ra,option:oa.item});ma.inform('change',{selector:ra});g.inform('Form/change',{node:ra});if(ka(ra))k.set(ra,'dirty',true);}}if(!pa||!qa)y&&ma.toggle(y);});}function ia(na){return !!na.getAttribute('data-multiple');}function ja(na){return j.hasClass(na,'uiSelectorOption');}function ka(na){return !!na.getAttribute('data-autosubmit');}var la={keydown:function(event){var na=event.getTarget();if(l.isNodeOfType(na,['input','textarea']))return;switch(Event.getKeyCode(event)){case o.DOWN:case o.SPACE:case o.UP:if(da(na)){var oa=ca(na);ma.toggle(oa);return false;}break;case o.ESC:if(y){ma.toggle(y);return false;}break;}},mouseover:function(event){var na=r.byAttribute(event.getTarget(),'ajaxify');if(na&&j.hasClass(na,'uiSelectorButton'))ma.loadMenu(ca(na));}};Event.listen(document.documentElement,la);t.subscribe(['show','hide'],function(na,oa){var pa=ca(oa.getActive());if(pa){ha();var qa=ma.getSelectorButton(pa),ra=ma.getSelectorMenu(pa),sa=na==='show';qa.setAttribute('aria-expanded',sa?'true':'false');if(sa){y=pa;if(j.hasClass(qa,'uiButtonDisabled')){ma.setEnabled(pa,false);return false;}ra=ra||ma.loadMenu(pa);var ta=s.getScrollParent(pa),ua=ta!==window&&ta!==l.getDocumentScrollElement();if(ua||j.hasClass(pa,'uiSelectorUseLayer')){if(ua)aa.push(Event.listen(ta,'scroll',function(){oa.hide();}));ba=l.create('div',{className:pa.className});j.addClass(ba,'invisible_elem');v.getElementDimensions(pa).setElementDimensions(ba);l.replace(pa,ba);var va=j.hasClass(pa,'uiSelectorRight'),wa=j.hasClass(pa,'uiSelectorBottomUp');ea().setContext(ba).setContent(pa).setPosition(wa?'above':'below').setAlignment(va?'right':'left').show();}q.register(ra);if(p.isKeyDown()){var xa=q.getCheckedItems(ra);if(!xa.length)xa=q.getEnabledItems(ra);q.focusItem(xa[0]);}}else{y=null;if(ba){while(aa.length)aa.pop().remove();l.replace(ba,pa);ea().hide();ba=null;}ra&&q.unregister(ra);if(ka(pa)&&k.get(pa,'dirty')){var ya=l.scry(pa,'input.submitButton')[0];ya&&ya.click();k.remove(pa,'dirty');}}j.conditionClass(ma.getSelectorButton(pa),'selected',sa);ma.inform(sa?'open':'close',{selector:pa,clone:ba});}});var ma=w(new g(),{attachMenu:function(na,oa,pa){na=ca(na);if(na){y&&q.unregister(ma.getSelectorMenu(y));l.setContent(ga(na),oa);y&&q.register(ma.getSelectorMenu(na));ba&&ea().updatePosition();if(pa){var qa=na.getAttribute('data-name');qa&&pa.setAttribute('name',qa);if(!ia(na))pa.setAttribute('multiple',false);var ra=fa(na);if(ra){l.replace(ra,pa);}else l.insertAfter(na.firstChild,pa);}return true;}},getOption:function(na,oa){var pa=ma.getOptions(na),qa=pa.length;while(qa--)if(oa===ma.getOptionValue(pa[qa]))return pa[qa];return null;},getOptions:function(na){var oa=q.getItems(ma.getSelectorMenu(na));return oa.filter(ja);},getEnabledOptions:function(na){var oa=q.getEnabledItems(ma.getSelectorMenu(na));return oa.filter(ja);},getSelectedOptions:function(na){return q.getCheckedItems(ma.getSelectorMenu(na));},getOptionText:function(na){return q.getItemLabel(na);},getOptionValue:function(na){var oa=ca(na),pa=fa(oa),qa=ma.getOptions(oa).indexOf(na);return qa>=0?pa.options[qa+1].value:'';},getSelectorButton:function(na){return l.find(na,'a.uiSelectorButton');},getSelectorMenu:function(na){return l.scry(na,'div.uiSelectorMenu')[0];},getValue:function(na){var oa=fa(na);if(!oa)return null;if(!ia(na))return oa.value;var pa=[],qa=oa.options;for(var ra=1,sa=qa.length;ra<sa;ra++)if(qa[ra].selected)pa.push(qa[ra].value);return pa;},isOptionSelected:function(na){return q.isItemChecked(na);},listen:function(na,oa,pa){return this.subscribe(oa,function(qa,ra){if(ra.selector===na)return pa(ra,qa);});},loadMenu:function(na){var oa=ma.getSelectorMenu(na);if(!oa){var pa=ma.getSelectorButton(na),qa=pa.getAttribute('ajaxify');if(qa){d(['AsyncRequest'],function(sa){sa.bootstrap(qa,pa);});var ra=m('<div class="uiSelectorMenuWrapper uiToggleFlyout">'+'<div class="uiMenu uiSelectorMenu loading">'+'<ul class="uiMenuInner">'+'<li><span></span></li>'+'</ul>'+'</div>'+'</div>');l.appendContent(pa.parentNode,ra);oa=ma.getSelectorMenu(na);pa.removeAttribute('onmouseover');}}return oa;},setButtonLabel:function(na,oa){var pa=ma.getSelectorButton(na),qa=parseInt(pa.getAttribute('data-length'),10);oa=oa||pa.getAttribute('data-label')||'';h.setLabel(pa,oa);if(typeof oa==='string'){j.conditionClass(pa,'uiSelectorBigButtonLabel',oa.length>qa);if(qa&&oa.length>qa){pa.setAttribute('title',oa);}else pa.removeAttribute('title');}},setButtonTooltip:function(na,oa){var pa=ma.getSelectorButton(na),qa=r.byTag(pa,'a');qa&&u.set(qa,oa||pa.getAttribute('data-tooltip')||'');},updateButtonARIALabel:function(na,oa){var pa=ma.getSelectorButton(na),qa=r.byTag(pa,'a');if(qa){var ra=pa.getAttribute('data-ariaprefix');if(ra)pa.setAttribute('aria-label',ra+': '+oa);}},setEnabled:function(na,oa){if(!oa&&y&&ca(na)===y)ma.toggle(na);h.setEnabled(ma.getSelectorButton(na),oa);},setOptionEnabled:function(na,oa){q.setItemEnabled(na,oa);},setSelected:function(na,oa,pa){pa=pa!==false;var qa=ma.getOption(na,oa);if(!qa)return;var ra=ma.isOptionSelected(qa);if(pa!==ra){if(!ia(na)&&!ra){var sa=ma.getSelectedOptions(na)[0];sa&&q.toggleItem(sa);}q.toggleItem(qa);}ma.updateSelector(na);},toggle:function(na){t.toggle(l.scry(ca(na),'div.wrap')[0]);},updateSelector:function(na){var oa=ma.getOptions(na),pa=ma.getSelectedOptions(na),qa=fa(na).options,ra=[],sa=[];for(var ta=0,ua=oa.length;ta<ua;ta++){var va=pa.contains(oa[ta]);qa[ta+1].selected=va;if(va){var wa=ma.getOptionText(oa[ta]);ra.push(wa);sa.push(oa[ta].getAttribute('data-tooltip')||wa);}}qa[0].selected=!pa.length;var xa=j.hasClass(na,'uiSelectorDynamicLabel'),ya=j.hasClass(na,'uiSelectorDynamicTooltip');if(xa||ya){var za='';if(ia(na)){var ab=ma.getSelectorButton(na);za=ab.getAttribute('data-delimiter')||', ';}ra=ra.join(za);sa=sa.join(za);if(xa){ma.setButtonLabel(na,ra);ma.updateButtonARIALabel(na,ra);}ya&&ma.setButtonTooltip(na,sa);}}});e.exports=ma;});
__d("reportData",["EagleEye","userAction"],function(a,b,c,d,e,f){var g=b('EagleEye'),h=b('userAction');function i(j,k){k=k||{};var l={ft:(k.ft||{}),gt:(k.gt||{})},m='-',n=a.ArbiterMonitor,o=(!!n)?n.getActFields():[],p=(!n)?'r':'a',q=[Date.now(),h.getCurrentUECount(),m,j,m,m,p,a.URI?a.URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,l,0,0,0,0].concat(o);g.log('act',q);}e.exports=i;});
__d("TypeaheadBestName",["TypeaheadUtil","copyProperties"],function(a,b,c,d,e,f){var g=b('TypeaheadUtil'),h=b('copyProperties');function i(j){this._typeahead=j;}h(i.prototype,{_subscription:null,enable:function(){var j=this._typeahead.getView();this._subscription=j.subscribe('beforeRender',function(k,l){var m=l.value;for(var n=0;n<l.results.length;++n){var o=l.results[n];if(o.alternate_names==null)continue;if(g.isQueryMatch(m,o.default_name)){o.text=o.default_name;return;}for(var p=0;p<o.alternate_names.length;p++)if(g.isQueryMatch(m,o.alternate_names[p])){o.text=o.alternate_names[p];return;}o.text=o.default_name;}});},disable:function(){this._typeahead.getView().unsubscribe(this._subscription);this._subscription=null;}});e.exports=i;});
__d("legacy:BestNameTypeaheadBehavior",["TypeaheadBestName"],function(a,b,c,d){var e=b('TypeaheadBestName');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.buildBestAvailableNames=function(f){f.enableBehavior(e);};},3);
__d("legacy:Toggler",["Toggler"],function(a,b,c,d){a.Toggler=b('Toggler');},3);
__d("ButtonGroup",["function-extensions","copyProperties","createArrayFrom","CSS","DataStore","Parent"],function(a,b,c,d,e,f){b('function-extensions');var g=b('copyProperties'),h=b('createArrayFrom'),i=b('CSS'),j=b('DataStore'),k=b('Parent'),l='firstItem',m='lastItem';function n(s,t){var u=k.byClass(s,t);if(!u)throw new Error('invalid use case');return u;}function o(s){return i.shown(s)&&h(s.childNodes).some(i.shown);}function p(s){var t,u,v;h(s.childNodes).forEach(function(w){v=o(w);i.removeClass(w,l);i.removeClass(w,m);i.conditionShow(w,v);if(v){t=t||w;u=w;}});t&&i.addClass(t,l);u&&i.addClass(u,m);i.conditionShow(s,t);}function q(s,t){var u=n(t,'uiButtonGroupItem');s(u);p(u.parentNode);}function r(s){this._root=n(s,'uiButtonGroup');j.set(this._root,'ButtonGroup',this);p(this._root);}r.getInstance=function(s){var t=n(s,'uiButtonGroup'),u=j.get(t,'ButtonGroup');return u||new r(t);};g(r.prototype,{hideItem:q.curry(i.hide),showItem:q.curry(i.show),toggleItem:q.curry(i.toggle)});e.exports=r;});
__d("legacy:ScrollableArea",["ScrollableArea"],function(a,b,c,d){a.ScrollableArea=b('ScrollableArea');},3);
__d("CompactTypeaheadRenderer",["DOM"],function(a,b,c,d,e,f){var g=b('DOM');function h(i,j){var k=[],l=i.photo;if(l){if(l instanceof Array){var m=[g.create('span',{className:'splitpic leftpic'},[g.create('img',{alt:'',src:l[0]})]),g.create('span',{className:'splitpic'+(l[2]?' toppic':'')},[g.create('img',{alt:'',src:l[1]})])];if(l[2])m.push(g.create('span',{className:'splitpic bottompic'},[g.create('img',{alt:'',src:l[2]})]));l=g.create('span',{className:'splitpics clearfix'},m);}else l=g.create('img',{alt:'',src:l});k.push(l);}if(i.text)k.push(g.create('span',{className:'text'},[i.text]));var n=i.subtext,o=i.category;if(n||o){var p=[];n&&p.push(n);n&&o&&p.push(" \u00b7 ");o&&p.push(o);k.push(g.create('span',{className:'subtext'},p));}var q=g.create('li',{className:i.type||''},k);if(i.text)q.setAttribute('aria-label',i.text);return q;}h.className='compact';e.exports=h;});
__d("PhotoMultiPhotosThumb",["event-extensions","function-extensions","Style"],function(a,b,c,d,e,f){b('event-extensions');b('function-extensions');var g=b('Style'),h=1200,i={init:function(j,k){var l=null,m=0;function n(p){m=p;k.forEach(function(q,r){g.set(q,'opacity',r===p?1:0);});}function o(){n((m+1)%k.length);l=o.defer(h);}Event.listen(j,'mouseenter',function(){m=0;o();});Event.listen(j,'mouseleave',function(){n(0);window.clearTimeout(l);});}};e.exports=i;});